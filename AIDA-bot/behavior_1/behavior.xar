<?xml version="1.0" encoding="UTF-8" ?>
<ChoregrapheProject xmlns="http://www.ald.softbankrobotics.com/schema/choregraphe/project.xsd" xar_version="3">
  <Box name="root" id="-1" localization="8" tooltip="Root box of Choregraphe&apos;s behavior. Highest level possible." x="0" y="0">
    <bitmap>media/images/box/root.png</bitmap>
    <script language="4">
      <content>
        <![CDATA[]]>
      </content>
    </script>
    <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
    <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
    <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
    <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
    <Timeline enable="0">
      <BehaviorLayer name="behavior_layer1">
        <BehaviorKeyframe name="keyframe1" index="1">
          <Diagram>
            <Box name="Speech Reco." id="2" localization="8" tooltip="Recognize a word from a list of words set in the box parameters.&#x0A;&#x0A;V1.1.0&#x0A;" x="83" y="273">
              <bitmap>media/images/box/interaction/ear.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        try:
            self.asr = self.session().service("ALSpeechRecognition")
        except Exception as e:
            self.asr = None
            self.logger.error(e)
        self.memory = self.session().service("ALMemory")
        from threading import Lock
        self.bIsRunning = False
        self.mutex = Lock()
        self.hasPushed = False
        self.hasSubscribed = False
        self.BIND_PYTHON(self.getName(), "onWordRecognized")

    def onUnload(self):
        from threading import Lock
        self.mutex.acquire()
        try:
            if (self.bIsRunning):
                if (self.hasSubscribed):
                    self.memory.unsubscribeToEvent("WordRecognized", self.getName())
                if (self.hasPushed and self.asr):
                    self.asr.popContexts()
        except RuntimeError, e:
            self.mutex.release()
            raise e
        self.bIsRunning = False;
        self.mutex.release()

    def onInput_onStart(self):
        from threading import Lock
        self.mutex.acquire()
        if(self.bIsRunning):
            self.mutex.release()
            return
        self.bIsRunning = True
        try:
            if self.asr:
                self.asr.pushContexts()
            self.hasPushed = True
            if self.asr:
                self.asr.setVocabulary( self.getParameter("Word list").split(';'), self.getParameter("Enable word spotting") )
            self.memory.subscribeToEvent("WordRecognized", self.getName(), "onWordRecognized")
            self.hasSubscribed = True
        except RuntimeError, e:
            self.mutex.release()
            self.onUnload()
            raise e
        self.mutex.release()

    def onInput_onStop(self):
        if( self.bIsRunning ):
            self.onUnload()
            self.onStopped()

    def onWordRecognized(self, key, value, message):
        if(len(value) > 1 and value[1] >= self.getParameter("Confidence threshold (%)")/100.):
            self.wordRecognized(value[0]) #~ activate output of the box
        else:
            self.onNothing()]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
              <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
              <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
              <Output name="wordRecognized" type="3" type_size="1" nature="2" inner="0" tooltip="Word recognized with a confidence higher than the threshold set in the box parameters." id="5" />
              <Output name="onNothing" type="1" type_size="1" nature="2" inner="0" tooltip="Nothing has been understood." id="6" />
              <Parameter name="Word list" inherits_from_parent="0" content_type="3" value="yes;no" default_value="yes;no" custom_choice="0" tooltip="Try to recognize a word from a list of words set in the box parameters." id="7" />
              <Parameter name="Confidence threshold (%)" inherits_from_parent="0" content_type="1" value="30" default_value="30" min="0" max="100" tooltip="If the confidence associated with the word recognized is below this threshold, the robot will consider that it is not recognized." id="8" />
              <Parameter name="Enable word spotting" inherits_from_parent="0" content_type="0" value="0" default_value="0" tooltip="If this option is not activated the robot will only understand exact expressions. If it is, he will spot the exact expressions even in the middle of a sentence.&#x0A;&#x0A;!!Warning!! This option is only available with the speech recognition module using Nuance (ie in Atom version of the robot)." id="9" />
              <Resource name="Speech recognition" type="Lock" timeout="0" />
            </Box>
            <Box name="AIDA-bot" id="10" localization="8" tooltip="This box contains a basic python script and can be used to create any python script box you would like.&#x0A;&#x0A;To edit its script, double-click on it." x="219" y="112">
              <bitmap>media/images/box/box-python-script.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[import urllib2
import urllib
import json
import copy
import random

intents = {
    'cancel': ['bye', 'goodbye'],
    'help': ['help'],
    'count': ['count', 'how many'],
    'list': ['list'],
    'describe': ['describe', 'who is', 'what about', 'what is', 'what', 'who'],
    'hello': ['hello', 'hi'],
    'reset': ['cancel', 'stop']
}

combinations = {
    'authors': 'papers',
    'papers': 'papers',
    'conferences': 'conferences',
    'organizations': 'organizations',
    'citations': 'papers'
}

subject_categories = ['authors', 'papers', 'conferences', 'organizations', 'citations']
object_categories = ['topics', 'conferences', 'organizations', 'authors', 'papers']
list_subject_categories = ['authors', 'papers', 'conferences', 'organizations', 'topics']
tags_list = ['<br/>', '<b>', '</b>', '<br/>', '<ul>', '</ul>', '<li>', '</li>', '<i>', '</i>']
marks_list = ['.', '?', ';', ',']
orders = ['publications', 'citations', 'publications in the last 5 years', 'citations in the last 5 years']
homonyms_objects = ['topic', 'conference', 'organization', 'author', 'paper']
homonyms_list = [' affiliated with ', ' author of the paper: ', ', author with ', ' publications']
list_verbs = ['is', 'are']
list_order = ['publication', 'citation', 'publication in the last 5 years', 'citation in the last 5 years']
cancel_words = ['cancel', 'stop', 'enough', 'no']

templates = {
    'WELCOME_MSG': ['Hello! You can ask me to describe, list, or count any scholarly entity.',
                    'Welcome, you can ask me to describe, list, or count any scholarly entity. What would you like to '
                    'try?'],
    'HELLO_MSG': ['Hello! You can ask me to describe, list, or count any scholarly entity. What can I do for you?',
                  'Hi! you can ask me to describe, list, or count any scholarly entity. What would you like to try?'],
    'OK_MSG': 'Ok',
    'HELP_MSG': [
        'You can ask to count or list authors, papers, conferences, organizations, topics and citations or to '
        'describe authors or conferences. Start a query with list, count or describe',
        'You can ask a query starting with count, list, describe, who or what'],
    'GOODBYE_MSG': ['Goodbye!', 'Bye!', 'See you later!'],
    'REFLECTOR_MSG': 'You just triggered ${intent}',
    'FALLBACK_MSG': 'Sorry, I don\'t know that. Please try again.',
    'ERROR_MSG': 'Sorry, there was an error. Please try again.',

    'HOMONYMS_MSG': 'I found different homonyms: ${msg} ',

    'SUBJECT_REQUEST_MSG': 'I can count papers, authors, conferences, organizations and citations. What do you want '
                           'me to count?',
    'SUBJECT_WRONG_MSG': "Sorry, I can\'t count ${sub}. I can count papers, authors, conferences, organizations and "
                         "citations. What do you prefer?",
    'SUBJECT_REQUEST_REPROMPT_MSG': 'I can count papers, authors, conferences, organizations and citations. What do '
                                    'you prefer?',
    'INSTANCE_MSG': "what is the name of the ${list} whose ${sub} I should count? You can say all for the full list",
    'INSTANCE2_MSG': "what is the name of the ${list} whose ${sub} I should count?",
    'ITEM_MSG': "Searching for ${ins}, I got: ${msg}. To choose, say the number. Which one is correct?",
    'INTENT_CONFIRMATION_1_MSG': "Do you want to know how many ${sub} ${prep} ${obj} are in the AIDA database?",
    'INTENT_CONFIRMATION_2_MSG': "Do you want to know how many ${sub} ${prep} ${ins} ${obj} are in the AIDA database?",
    'TOO_GENERIC_MSG': "Your search for ${ins} got ${results}. You need to try again and to be more specific. Could "
                       "you tell me the exact name?",
    'NO_RESULT_MSG': "Your search for ${ins} got no result. You need to try again. What could I search for you?",
    'QUERY_1_MSG': "I found ${num} ${sub} ${prep} ${ins} ${obj}. You can ask to perform another query on the data "
                   "contained in the AIDA database or ask for Help. What would you like to try?",
    'QUERY_2_MSG': "I found ${num} different ${sub} ${prep} ${obj}. You can ask to perform another query on the data "
                   "contained in the AIDA database or ask for Help. What would you like to try?",

    'REPROMPT_MSG': 'So, what would you like to ask?',
    'NO_QUERY_MSG': 'Sorry, you asked for a query that is not yet implemented. You can ask to perform another query '
                    'on the data contained in the AIDA database or ask for Help. What would you like to try?',

    'REPROMPT_END_MSG': 'You could ask me for another query or say stop to quit',
    'NO_SENSE_MSG': 'I\'m sorry but the query resulting from the chosen options doesn\'t make sense. Try again. You '
                    'can ask to perform another query on the data contained in the AIDA database or ask for Help. '
                    'What would you like to try?',

    'LIST_WRONG_NUMBER_MSG': 'The number ${num} , you should tell me a number higher than one and smaller than eleven.',
    'LIST_SUBJECT_REQUEST_MSG': 'I can list papers, authors, conferences, organizations and topics. What do you want '
                                'me to list?',
    'LIST_SUBJECT_WRONG_MSG': 'Sorry, I can\'t list ${sub}. I can list papers, authors, conferences, organizations '
                              'and topics. What do you prefer?',
    'LIST_SUBJECT_REQUEST_REPROMPT_MSG': 'I can list papers, authors, conferences, organizations and topics. What do '
                                         'you prefer?',
    'LIST_ORDER_MSG': 'Which sorting option do you prefer between: (1) publications, (2) citations, '
                      '(3) publications in the last 5 years, (4) citations in the last 5 years?',
    'LIST_PAPERS_ORDER_MSG': 'Which sorting option do you prefer between: (1) citations and (2) citations in the last '
                             '5 years?',
    'LIST_PAPERS_ORDER_WRONG_MSG': 'Sorry, I can\'t list ${sub} sorted by ${order}. I can sort them by: (1) citations '
                                   'and (2) citations in the last 5 years. What do you prefer?',
    'LIST_ORDER_WRONG_MSG': 'Sorry, I can\'t list ${sub} sorted by ${order}. I can sort them by: (1) publications, '
                            '(2) publications in the last 5 years, (3) citations, (4) citations in the last 5 years. '
                            'What do you prefer?',
    'LIST_INSTANCE_MSG': 'what is the name of the ${list} for which ${sub} should be in the top ${num}? You can say '
                         'all for the full list',
    'LIST_INTENT_CONFIRMATION_1_MSG': 'Do you want to know which are the top ${num} ${sub} ${prep} ${obj}, by number '
                                      'of ${order}, in the AIDA database?',
    'LIST_INTENT_CONFIRMATION_2_MSG': 'Do you want to know which are the top ${num} ${sub}, by number of ${order}, '
                                      '${prep} ${ins} ${obj} in the Aida database?',
    'LIST_QUERY_MSG': 'In the AIDA database, the top ${num} ${sub} ${prep} ${ins} ${obj} - by number of ${order} - ${'
                      'verb}: ${lst} You can ask to perform another query on the data contained in the AIDA database '
                      'or ask for Help. What would you like to try?',
    'LIST_NO_RESULT_MSG': 'In the AIDA database, there are no ${sub} ${prep} ${ins} ${obj}. You can ask to perform '
                          'another query on the data contained in the AIDA database or ask for Help. What would you '
                          'like to try?',

    'DSC_TOO_GENERIC_MSG': 'Your search for ${ins} got ${results}. You need to try again and to be more specific. '
                           'What is the name of the author or conference you want to know about?',
    'DSC_NO_RESULT_MSG': 'Your search for ${ins} got no result. You need to try again. What is the name of the author '
                         'or conference you want to know about?',
    'DESCRIBE_INSTANCE_MSG': 'What is the name of the author or conference you want to know about?',
    'DESCRIBE_CONFIRM_MSG': 'Do you want to know something about ${ins}?'
}

count_dict = {
    'sub': {
        'authors': {
            'topics': 'authors',
            'conferences': 'authors',
            'organizations': 'authors',
            'authors': 'authors',
            'papers': 'authors'
        },
        'papers': {
            'topics': 'papers',
            'conferences': 'papers',
            'organizations': 'papers',
            'authors': 'papers',
            'papers': ''
        },
        'conferences': {
            'topics': 'conferences',
            'conferences': 'conferences',
            'organizations': 'conferences',
            'authors': 'conferences',
            'papers': ''
        },
        'organizations': {
            'topics': 'organizations',
            'conferences': 'organizations',
            'organizations': 'organizations',
            'authors': 'organizations',
            'papers': ''
        },
        'citations': {
            'topics': 'citations',
            'conferences': 'citations',
            'organizations': 'citations',
            'authors': 'citations',
            'papers': ''
        }
    },
    'prep': {
        'authors': {
            'topics': 'who have written papers on',
            'conferences': 'who have written papers for',
            'organizations': 'affiliated to the',
            'authors': '',
            'papers': ''
        },
        'papers': {
            'topics': 'on',
            'conferences': 'from',
            'organizations': 'from authors affiliated to the',
            'authors': 'written by the author',
            'papers': ''
        },
        'conferences': {
            'topics': 'with papers on',
            'conferences': '',
            'organizations': 'with papers by authors affiliated to the',
            'authors': 'with papers written by the author',
            'papers': ''
        },
        'organizations': {
            'topics': 'with papers on',
            'conferences': 'with papers at',
            'organizations': '',
            'authors': 'with',
            'papers': ''
        },
        'citations': {
            'topics': 'of papers on',
            'conferences': 'of papers from',
            'organizations': 'of papers written by authors affiliated to the',
            'authors': 'of papers written by the author',
            'papers': ''
        }
    },
    'obj': {
        'authors': {
            'topics': 'topic',
            'conferences': 'conferences',
            'organizations': '',
            'authors': '',
            'papers': ''
        },
        'papers': {
            'topics': 'topic',
            'conferences': 'conferences',
            'organizations': '',
            'authors': '',
            'papers': 'papers'
        },
        'conferences': {
            'topics': 'topic',
            'conferences': '',
            'organizations': '',
            'authors': '',
            'papers': ''
        },
        'organizations': {
            'topics': '',
            'conferences': 'conferences',
            'organizations': '',
            'authors': 'among their affiliated authors',
            'papers': ''
        },
        'citations': {
            'topics': 'topic',
            'conferences': 'conferences',
            'organizations': '',
            'authors': '',
            'papers': ''
        }
    }
}

count_legal_queries = {
    'authors': {
        'topics': [True, False],
        'conferences': [True, True],
        'organizations': [True, False],
        'authors': [False, False],
        'papers': [False, True],
    },
    'papers': {
        'topics': [True, False],
        'conferences': [True, True],
        'organizations': [True, False],
        'authors': [True, False],
        'papers': [False, True],
    },
    'conferences': {
        'topics': [True, False],
        'conferences': [False, True],
        'organizations': [True, False],
        'authors': [True, False],
        'papers': [False, False],
    },
    'organizations': {
        'topics': [True, False],
        'conferences': [True, False],
        'organizations': [False, True],
        'authors': [True, False],
        'papers': [False, False],
    },
    'citations': {
        'topics': [True, False],
        'conferences': [True, False],
        'organizations': [True, False],
        'authors': [True, False],
        'papers': [False, False],
    }
}

obj_cat = [
    ['authors', 'conference acronyms', 'conference names', 'organizations'],
    ['topics', 'conferences', 'organizations', 'authors', 'papers']
]

item_question_object = {
    'topics': 'topic or ',
    'conferences': 'conference or ',
    'organizations': 'organization or ',
    'authors': 'author'
}

numbers = [
    '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight',
    'nine', 'ten', '1st', '2nd', '3rd', '4th', '5th', '6th', '7th', '8th', '9th', '10th', 'first', 'second', 'third',
    'fourth', 'fifth', 'sixth', 'seventh', 'eighth', 'ninth', 'tenth'
]

list_legal_queries = {
    'authors': {
        'topics': [True, True],
        'conferences': [True, True],
        'organizations': [True, True],
        'authors': [False, False],
        'all': [True, True],
    },
    'papers': {
        'topics': [False, True],
        'conferences': [False, True],
        'organizations': [False, True],
        'authors': [False, True],
        'all': [False, True],
    },
    'conferences': {
        'topics': [True, True],
        'conferences': [False, False],
        'organizations': [True, True],
        'authors': [True, True],
        'all': [True, True],
    },
    'organizations': {
        'topics': [True, True],
        'conferences': [True, True],
        'organizations': [False, False],
        'authors': [False, False],
        'all': [True, True],
    },
    'topics': {
        'topics': [False, False],
        'conferences': [True, True],
        'organizations': [True, True],
        'authors': [True, True],
        'all': [True, True],
    }
}

list_dict = {
    'publications': {
        'sub': {
            'authors': {
                'topics': 'authors',
                'conferences': 'authors',
                'organizations': 'authors',
                'authors': 'authors',
                'papers': 'authors'
            },
            'papers': {
                'topics': 'papers',
                'conferences': 'papers',
                'organizations': 'papers',
                'authors': 'papers',
                'papers': ''
            },
            'conferences': {
                'topics': 'conferences',
                'conferences': 'conferences',
                'organizations': 'conferences',
                'authors': 'conferences',
                'papers': ''
            },
            'organizations': {
                'topics': 'organizations',
                'conferences': 'organizations',
                'organizations': 'organizations',
                'authors': 'organizations',
                'papers': ''
            },
            'topics': {
                'topics': 'topics',
                'conferences': 'topics',
                'organizations': 'topics',
                'authors': 'topics',
                'papers': ''
            }
        },
        'prep': {
            'authors': {
                'topics': 'who have written papers on',
                'conferences': 'who have written papers for',
                'organizations': 'affiliated to the',
                'authors': '',
                'papers': ''
            },
            'papers': {
                'topics': 'on',
                'conferences': 'from',
                'organizations': 'from authors affiliated to the',
                'authors': 'written by the author',
                'papers': ''
            },
            'conferences': {
                'topics': 'with papers on',
                'conferences': '',
                'organizations': 'with papers by authors affiliated to the',
                'authors': 'with papers written by the author',
                'papers': ''
            },
            'organizations': {
                'topics': 'with papers on',
                'conferences': 'with papers at',
                'organizations': '',
                'authors': 'with',
                'papers': ''
            },
            'topics': {
                'topics': '',
                'conferences': 'of papers from',
                'organizations': 'of papers written by authors affiliated to the',
                'authors': 'of papers written by the author',
                'papers': ''
            }
        },
        'obj': {
            'authors': {
                'topics': 'topic',
                'conferences': 'conferences',
                'organizations': '',
                'authors': '',
                'papers': ''
            },
            'papers': {
                'topics': 'topic',
                'conferences': 'conferences',
                'organizations': '',
                'authors': '',
                'papers': 'papers'
            },
            'conferences': {
                'topics': 'topic',
                'conferences': '',
                'organizations': '',
                'authors': '',
                'papers': ''
            },
            'organizations': {
                'topics': '',
                'conferences': 'conferences',
                'organizations': '',
                'authors': 'among their affiliated authors',
                'papers': ''
            },
            'topics': {
                'topics': '',
                'conferences': 'conferences',
                'organizations': '',
                'authors': '',
                'papers': ''
            }
        }
    },
    'citations': {
        'sub': {
            'authors': {
                'topics': 'authors',
                'conferences': 'authors',
                'organizations': 'authors',
                'authors': 'authors',
                'papers': 'authors'
            },
            'papers': {
                'topics': 'papers',
                'conferences': 'papers',
                'organizations': 'papers',
                'authors': 'papers',
                'papers': ''
            },
            'conferences': {
                'topics': 'conferences',
                'conferences': 'conferences',
                'organizations': 'conferences',
                'authors': 'conferences',
                'papers': ''
            },
            'organizations': {
                'topics': 'organizations',
                'conferences': 'organizations',
                'organizations': 'organizations',
                'authors': 'organizations',
                'papers': ''
            },
            'topics': {
                'topics': 'topics',
                'conferences': 'topics',
                'organizations': 'topics',
                'authors': 'topics',
                'papers': ''
            }
        },
        'prep': {
            'authors': {
                'topics': 'who have written papers on',
                'conferences': 'who have written papers for',
                'organizations': 'affiliated to the',
                'authors': '',
                'papers': ''
            },
            'papers': {
                'topics': 'on',
                'conferences': 'from',
                'organizations': 'from authors affiliated to the',
                'authors': 'written by the author',
                'papers': ''
            },
            'conferences': {
                'topics': 'with papers on',
                'conferences': '',
                'organizations': 'with papers by authors affiliated to the',
                'authors': 'with papers written by the author',
                'papers': ''
            },
            'organizations': {
                'topics': 'with papers on',
                'conferences': 'with papers at',
                'organizations': '',
                'authors': 'with',
                'papers': ''
            },
            'topics': {
                'topics': '',
                'conferences': 'of papers from',
                'organizations': 'of papers written by authors affiliated to the',
                'authors': 'of papers written by the author',
                'papers': ''
            }
        },
        'obj': {
            'authors': {
                'topics': 'topics',
                'conferences': 'conferences',
                'organizations': '',
                'authors': '',
                'papers': ''
            },
            'papers': {
                'topics': 'topics',
                'conferences': 'conferences',
                'organizations': '',
                'authors': '',
                'papers': 'papers'
            },
            'conferences': {
                'topics': 'topics',
                'conferences': '',
                'organizations': '',
                'authors': '',
                'papers': ''
            },
            'organizations': {
                'topics': '',
                'conferences': 'conferences',
                'organizations': '',
                'authors': 'among their affiliated authors',
                'papers': ''
            },
            'topics': {
                'topics': '',
                'conferences': 'conferences',
                'organizations': '',
                'authors': '',
                'papers': ''
            }
        }
    }
}

dsc_list = [' is an author', ' affiliated to ', ' affiliated to the ', 'Author rating: ', 'Publications: ',
            'Citations: ', 'Total number of co-authors: ', 'The top topic in terms of publications is: ',
            'The top topics in terms of publications are: ', 'The top conference in terms of publications is: ',
            'The top conferences in terms of publications are: ', 'The top journal in terms of publications is: ',
            'The top journals in terms of publications are: ', ', acronym of ',
            ', is a conference whose focus areas are: ', 'The rankings are: ', 'citations in the last 5 years: ',
            'Years of activity: from ', ' to ', 'Number of publications in the last year: ',
            'The top country in terms of publications is: ', 'The top countries in terms of publications are: ',
            'The top organization in education is: ', 'The top organizations in education are: ',
            'The top organization in industry is: ', 'The top organizations in industry are: ',
            'publications in the last 5 years: ', 'number of affiliated authors: ']

session = {'level': 0, 'intent': {'name': '', 'level': 0, 'slots': {}}, 'confirmation': True}
zora = {}


def get_data(cmd, ins):
    response = urllib2.urlopen('http://aidabot.ddns.net/api?pass=123abc&' + cmd + urllib.quote(str(ins)))
    data = json.load(response)  # type: dict
    # print data
    assert isinstance(data, dict)
    return data


def getIntent(msg):
    message = msg.lower().split(" ")
    for key in intents:
        for i in range(len(message)):
            for j in range(len(intents[key])):
                words = intents[key][j].split(' ')
                intent_length = len(words)
                for k in range(len(words)):
                    z = (+i) + (+k)
                    if z < len(message) and words[k] == message[z]:
                        intent_length -= 1
                if intent_length == 0:
                    return [key, intents[key][j]]
    return ['fallback', '']


def getUserDescribeQueryText(msg):
    query = msg
    idx = -1
    for i in range(len(intents['describe'])):
        if intents['describe'][i] in query:
            idx = query.index(intents['describe'][i])
        if idx >= 0:
            query = query[idx + len(intents['describe'][i]) + 1: len(query)]
            return query
    return query


def item_question(subject):
    msg = ''
    sub = subject

    if count_legal_queries[sub]['topics'][0]:
        msg += item_question_object['topics']
    if count_legal_queries[sub]['conferences'][0]:
        msg += item_question_object['conferences']
    if count_legal_queries[sub]['organizations'][0]:
        msg += item_question_object['organizations']
    if count_legal_queries[sub]['authors'][0]:
        msg += item_question_object['authors']
    s = msg[len(msg) - 4: len(msg)]
    if s == ' or ':
        msg = msg[0: len(msg) - 3]
    return msg


def kk_message(speak, cmd):
    message = ''
    for j in range(len(speak['num'])):
        if speak['num'][j] > 0:
            message += str(speak['num'][j])
            message += (' hits' if speak['num'][j] > 1 else ' hit') + ' among the ' + obj_cat[cmd][j] + ', '
    message = message[0: len(message) - 2]
    return message


def choice_list(speak):
    message = ''
    n = 0
    cmd = 0 if speak.get('cmd') is not None else 1
    print cmd
    for i in range(len(speak['num'])):
        if speak['num'][i] > 0:
            for j in range(len(speak['keys'][i])):
                message += numbers[n] + ', '
                message += (speak['keys'][i][j]['name'] if cmd == 0 else speak['keys'][i][j]) + '; '
                n += 1
            message += ' among the ' + obj_cat[cmd][i] + '. '
    message = message[0: len(message) - 2]
    return message


def homonyms(speak):
    msg = ''
    item = speak['item']
    for i in range(len(item)):
        num = 'say ' + numbers[i] + ' for '
        msg += num + item[i]['name']
        if item[i].get('affiliation') is not None:
            msg += homonyms_list[0] + item[i]['affiliation'] + "; "
        elif item[i].get('country') is not None:
            msg += ' - ' + item[i]['country'] + "; "
        elif item[i].get('paper') is not None:
            msg += homonyms_list[1] + item[i]['paper'] + "; "
        elif item[i].get('publications') is not None:
            msg += homonyms_list[2] + str(item[i]['publications']) + homonyms_list[3] + "; "
        else:
            msg += "; "
        if i > 9:
            return msg
    return msg


def get_number(item):
    words = item.split(' ')
    for i in words:
        if i in numbers:
            return numbers.index(i) % 10
    return None


def get_choice(speak, num):
    for i in range(len(speak['num'])):
        n = num - speak['num'][i]
        if n < 0 or i == len(speak['num']) - 1:
            return speak['keys'][i][num]
        else:
            num = n


def list_item_question(subject):
    msg = ''
    sub = subject
    if list_legal_queries[sub]['topics'][1]:
        msg += item_question_object['topics']
    if list_legal_queries[sub]['conferences'][1]:
        msg += item_question_object['conferences']
    if list_legal_queries[sub]['organizations'][1]:
        msg += item_question_object['organizations']
    if list_legal_queries[sub]['authors'][1]:
        msg += item_question_object['authors']
    s = msg[len(msg) - 4: len(msg)]
    if s == ' or ':
        msg = msg[0: len(msg) - 3]
    return msg


def lst(result, order, sub):
    o = orders.index(order)
    msg = ''
    lst_ = result['lst']
    if o == 1 or o == 3:
        for i in lst_:
            author = ''
            if i.get('author') is not None and len(i['author']) > 0:
                author = ' by ' + upper_authors(i['author'])
            if i['citations'] == 1:
                i['citations'] = '1'
                ord_ = list_order[o]
            else:
                ord_ = order
            msg += (upper_first(i['name']) if sub == 'authors' else i['name'][0].upper() + i['name'][1:])
            msg += author + ' with ' + str(int(i['citations'])) + ' ' + ord_.split(' ')[0] + '; '
    else:
        for i in lst_:
            # if i.get('author') is not None and len(i.author) > 0:
            #    author = ' by ' + upper_authors(i.author)
            if i['papers'] == 1:
                i['papers'] = '1'
                ord_ = list_order[o]
            else:
                ord_ = order
            msg += (upper_first(i['name']) if sub == 'authors' else i['name'][0].upper() + i['name'][1:])
            msg += ' with ' + str(i['papers']) + ' ' + ord_.split(' ')[0] + '; '
    return msg


def upper_authors(string):
    if ' et al.' in string:
        author = string.replace(' et al.', '')
        author = upper_first(author)
        return author + ' et al.'
    return upper_first(string)


def list_elements(lst1, element):
    blacklist = ['computer science', 'lecture notes in computer science', 'arxiv software engineering']
    lst_ = []
    if len(element) > 0:
        for i in lst1:
            if i[element] not in blacklist:
                lst_.append(i)
    else:
        for i in lst1:
            if i not in blacklist:
                lst_.append(i)

    i = len(lst_)
    if i > 3:
        i = 3
    msg = ''
    j = 0
    while j < i:
        if len(element) > 0:
            msg += upper_first(lst_[j][element]) + '; '
        else:
            msg += upper_first(lst_[j]) + '; '
        j += 1
    return msg


def upper_first(str_):
    s = str_.split(' ')
    result = ''
    for i in range(len(s)):
        result += ' ' + s[i][0].upper() + s[i][1:]
    return result[1:]


def dsc(query):
    msg = ''
    item = query['item']
    if query['obj_id'] == 1:
        msg += upper_first(item['name']) + dsc_list[0]
        if item['last_affiliation'].get('affiliation_name') is not None:
            s = item['last_affiliation']['affiliation_name'].split(' ')
            msg += (dsc_list[1] if (s[0] == 'the' or s[0] == 'The') else dsc_list[2])
            msg += item['last_affiliation']['affiliation_name']
            if item['last_affiliation'].get('affiliation_country') is not None:
                msg += ', ' + item['last_affiliation']['affiliation_country'] + '. '
        else:
            msg += '. '
        msg += dsc_list[3]
        if item.get('publications') is not None:
            msg += dsc_list[4] + str(item['publications']) + '; '
        if item.get('citations') is not None:
            msg += dsc_list[5] + str(item['citations']) + '; '
        if item.get('h-index') is not None:
            msg += 'h-index: ' + str(item['h-index']) + '; '
        if item.get('h5-index') is not None:
            msg += 'h5-index: ' + str(item['h5-index']) + '; '
        if item.get('co_authors') is not None and item['co_authors'] > 0:
            msg += dsc_list[6] + str(item['co_authors']) + '; '
        if item.get('top_pub_topics') is not None and len(item['top_pub_topics']) > 0:
            msg += dsc_list[7] if len(item['top_pub_topics']) == 1 else dsc_list[8]
            msg += list_elements(item['top_pub_topics'], 'topic')
        if item.get('top_pub_conf') is not None and len(item['top_pub_conf']) > 0:
            msg += dsc_list[9] if len(item['top_pub_conf']) == 1 else dsc_list[10]
            msg += list_elements(item['top_pub_conf'], 'name')
        if item.get('top_journals') is not None and len(item['top_journals']) > 0:
            msg += dsc_list[11] if len(item['top_journals']) == 1 else dsc_list[12]
            msg += list_elements(item['top_journals'], 'name')
    elif query['obj_id'] == 2 or query['obj_id'] == 3:
        msg += item['acronym'] + dsc_list[13] + item['name'] + dsc_list[14]
        msg += list_elements(item['topics'], '')
        msg += dsc_list[15]
        if item.get('h5_index') is not None:
            msg += 'h5-index: ' + str(item['h5_index']) + '; '
        if item.get('citationcount_5') is not None:
            msg += dsc_list[16] + str(item['citationcount_5']) + '; '
        if item.get('activity_years') is not None:
            msg += dsc_list[17] + str(item['activity_years']['from'])
            msg += dsc_list[18] + str(item['activity_years']['to']) + '; '
        if item.get('last_year_publications') is not None:
            msg += dsc_list[19] + str(item['last_year_publications']) + '; '
        if len(item['top_3_country']) > 0:
            msg += dsc_list[20] if len(item['top_3_country']) == 1 else dsc_list[21]
            msg += list_elements(item['top_3_country'], '')
        if len(item['top_3_edu']) > 0:
            msg += dsc_list[22] if len(item['top_3_edu']) == 1 else dsc_list[23]
            msg += list_elements(item['top_3_edu'], '')
        if len(item['top_3_company']) > 0:
            msg += dsc_list[24] if len(item['top_3_company']) == 1 else dsc_list[25]
            msg += list_elements(item['top_3_company'], '')
    elif query['obj_id'] == 4:
        msg += item['name']
        msg += ((' - ' + item['country'] + ' -') if item.get('country') is not None else '') + ' is an organization'
        if item.get('type') is not None and (item['type'] == 'academia' or item['type'] == 'industry'):
            msg += ' in ' + ('Edu' if item['type'] == 'academia' else 'Industry') + ' sector. '
        else:
            msg += '. '

        msg += dsc_list[15]
        if item.get('h5-index') is not None:
            msg += 'h5-index: ' + str(item['h5-index']) + '; '
        if item.get('publications_5') is not None:
            msg += dsc_list[26] + str(item['publications_5']) + '; '
        if item.get('citations_5') is not None:
            msg += dsc_list[16] + str(item['citations_5']) + '; '
        if item.get('authors_number') is not None:
            msg += dsc_list[27] + str(item['authors_number']) + '; '
        if item.get('top_3_topics') is not None and len(item['top_3_topics']) > 0:
            msg += dsc_list[7] if len(item['top_3_topics']) == 1 else dsc_list[8]
            msg += list_elements(item['top_3_topics'], '')
        if item.get('top_3_conferences') is not None and len(item['top_3_conferences']) > 0:
            msg += dsc_list[9] if len(item['top_3_conferences']) == 1 else dsc_list[10]
            msg += list_elements(item['top_3_conferences'], '')
        if item.get('top_3_journals') is not None and len(item['top_3_journals']) > 0:
            msg += dsc_list[11] if len(item['top_3_journals']) == 1 else dsc_list[12]
            msg += list_elements(item['top_3_journals'], '')
        else:
            msg += 'Sorry, Query not yet implemented!'
            return msg
    msg += 'You can ask to perform another query on the data contained in the AIDA database or ask for Help. '
    return msg + 'What would you like to try?'


def session_reset():
    global session
    session = {'level': 0, 'intent': {'name': '', 'level': 0, 'slots': {}}, 'confirmation': True}


def intent_verify(msg):
    global session
    intent = getIntent(msg)
    msg = msg.replace(intent[1], intent[0])
    intent = intent[0]
    if intent == 'hello':
        setMessage('HELLO_MSG')
    elif intent == 'reset':
        setMessage('REPROMPT_MSG')
        session_reset()
    elif intent == 'help':
        setMessage('HELP_MSG')
    elif intent == 'cancel':
        setMessage('GOODBYE_MSG')
        session_reset()
    elif intent == 'count' or intent == 'list':
        session['level'] = 1
        setIntentSlots(get_data('cmd=parser&ins=', str(msg)))

    elif intent == 'describe':
        session['intent']['name'] = 'describe'
        session['level'] = 1
        query = getUserDescribeQueryText(msg)
        if len(query) > 0:
            session['intent']['slots']['ins'] = query
        describe_query('')
        return
    elif intent == 'fallback':
        setMessage('FALLBACK_MSG')
    return


# set intent name and slots with the results from the parser
def setIntentSlots(data):
    cmd = ''
    global session

    if data.get('cmd') is not None:
        cmd = data['cmd']['value']

    if cmd == 'count':
        session['intent']['name'] = 'count'
        if data.get('sub') is not None:
            session['intent']['slots']['sub'] = data['sub']['value']
        if data.get('ins') is not None:
            session['intent']['slots']['ins'] = data['ins']['value']
        if data.get('obj') is not None:
            session['intent']['slots']['obj'] = data['obj']['value']
        elif data.get('sub') is not None and data.get('ins') is not None and data['ins']['value'] == 'all':
            session['intent']['slots']['obj'] = combinations[data['sub']['value']]
        count_query('')

    if cmd == 'list':
        session['intent']['name'] = 'list'
        if data.get('num') is not None:
            session['intent']['slots']['num'] = data['num']['value']
        if data.get('sub') is not None:
            session['intent']['slots']['sub'] = data['sub']['value']
        if data.get('ins') is not None:
            session['intent']['slots']['ins'] = data['ins']['value']
        if data.get('obj') is not None:
            session['intent']['slots']['obj'] = data['obj']['value']
        elif data.get('sub') is not None and data.get('ins') is not None and data['ins']['value'] == 'all':
            session['intent']['slots']['obj'] = 'all'
        if data.get('order') is not None:
            session['intent']['slots']['order'] = data['order']['value']
        list_query('')


def is_list_legal(sub, obj, order=None):
    if order is not None:
        return list_legal_queries[sub][obj][orders.index(order.split(' ')[0])]
    return list_legal_queries[sub][obj][0] or list_legal_queries[sub][obj][1]


def count_query(msg):
    global session
    slots = session['intent']['slots']
    sub = slots.get('sub')
    obj = slots.get('obj')
    ins = slots.get('ins')
    idx = slots.get('id')
    sub_id = (subject_categories.index(sub) + 1) if sub in subject_categories else 0
    obj_id = (object_categories.index(obj) + 1) if obj in object_categories else 0

    # no level - verifying slots
    if session['intent'].get('level') == 0:

        if msg in cancel_words:
            setMessage('REPROMPT_MSG')
            session_reset()
            return

        if sub is None and len(msg) == 0:
            session['confirmation'] = False
            setMessage('SUBJECT_REQUEST_MSG')
            return

        if sub is None and len(msg) > 0:
            if msg in subject_categories:
                sub_id = subject_categories.index(msg) + 1
                session['intent']['slots']['sub'] = msg
                sub = msg
                msg = ''

            else:
                setMessage('SUBJECT_WRONG_MSG', {'sub': msg})
                return

        if sub is not None and sub not in subject_categories:
            setMessage('SUBJECT_WRONG_MSG', {'sub': sub})
            del session['intent']['slots']['sub']
            return

        if ins is not None and ins != 'all':
            session['intent']['level'] = 1
            data = get_data('cmd=fnd&ins=', ins)
            count_query(data)
            return

        if ins is None and len(msg) == 0:
            session['confirmation'] = False
            message = 'INSTANCE_MSG'
            if sub_id == 5:
                message = 'INSTANCE2_MSG'
            setMessage(message, {'list': item_question(sub), 'sub': sub})
            return

        if ins is None and len(msg) > 0 and msg != 'all':
            session['intent']['slots']['ins'] = msg
            data = get_data('cmd=fnd&ins=', msg)
            session['intent']['level'] = 1
            count_query(data)
            return

        if (sub is not None and ins is not None and ins == 'all') or (sub is not None and ins is None and msg == 'all'):
            if not count_legal_queries[sub][combinations[sub]][1]:
                setMessage('NO_SENSE_MSG')
                session_reset()
                return
            obj = combinations[sub]
            session['intent']['slots']['obj'] = obj
            session['intent']['slots']['ins'] = 'no'
            session['intent']['level'] = 2
            if session['confirmation']:
                setMessage('INTENT_CONFIRMATION_1_MSG',
                           {'sub': count_dict['sub'][sub][obj],
                            'prep': count_dict['prep'][sub][obj],
                            'obj': count_dict['obj'][sub][obj]})
                return
            else:
                count_query('')
        return

    # verifying ins
    if session['intent']['level'] == 1:
        # case ok
        if msg['result'] == 'ok':
            ins = msg['item']
            session['intent']['slots']['ins'] = ins
            obj_id = msg['obj_id']
            obj = msg['object']
            session['intent']['slots']['obj'] = obj

            if obj_id == 2 or obj_id == 4:
                session['intent']['slots']['id'] = msg['id']

            if not count_legal_queries[sub][obj][0]:
                setMessage('NO_SENSE_MSG', {})
                session_reset()
                return

            if obj_id == 4:
                ins = upper_first(ins)

            session['intent']['level'] = 2

            if session['confirmation']:
                setMessage('INTENT_CONFIRMATION_2_MSG',
                           {'sub': count_dict['sub'][sub][obj],
                            'prep': count_dict['prep'][sub][obj],
                            'obj': count_dict['obj'][sub][obj],
                            'ins': ins})
                return
            else:
                count_query('')
            return

        # case kk (too many results fnd search)
        if msg['result'] == 'kk':
            message = kk_message(msg, 1)
            setMessage('TOO_GENERIC_MSG', {'ins': ins, 'results': message})
            session['intent']['level'] = 0
            del session['intent']['slots']['ins']
            return

        # case ko (no result fnd search)
        if msg['result'] == 'ko':
            setMessage('NO_RESULT_MSG', {'ins': ins})
            session['intent']['level'] = 0
            del session['intent']['slots']['ins']
            return

        # case k2 (multiple results fnd search)
        if msg['result'] == 'k2':
            session['intent']['items_list'] = msg
            message = choice_list(msg)
            setMessage('ITEM_MSG', {'ins': ins, 'msg': message})
            session['intent']['level'] = 3
            return

        # case ka(homonyms fnd search)
        if msg['result'] == 'ka':
            session['intent']['homonyms_list'] = msg
            message = homonyms(msg)
            setMessage('HOMONYMS_MSG', {'msg': message, 'obj': homonyms_objects[msg['obj_id'] - 1]})
            session['intent']['level'] = 4
            return

    # check, confirm and display of results
    if session['intent']['level'] == 2:
        if msg in cancel_words:
            setMessage('REPROMPT_MSG', {})
            session_reset()
            return

        inst = ins
        if idx is not None:
            inst = idx

        data = get_data('cmd=how&sub=' + str(sub_id) + '&obj=' + str(obj_id) + '&ins=', inst)

        if data['result'] != 'ok':
            setMessage('NO_QUERY_MSG', {})
            session_reset()
            return

        if obj_id == 4:
            ins = upper_first(ins)

        message = 'QUERY_1_MSG'
        if ins == 'no':
            message = 'QUERY_2_MSG'
            setMessage(message, {'num': data['hits'], 'sub': count_dict['sub'][sub][obj],
                                 'obj': count_dict['obj'][sub][obj], 'prep': count_dict['prep'][sub][obj]})
        else:
            msg_sub = count_dict['sub'][sub][obj][0: len(sub) - 1] if data['hits'] == '1' else count_dict['sub'][sub][
                obj]
            setMessage(message, {'num': data['hits'], 'sub': msg_sub, 'obj': count_dict['obj'][sub][obj],
                                 'prep': count_dict['prep'][sub][obj], 'ins': ins})

        session_reset()
        return

    # multiple result list management
    if session['intent']['level'] == 3:
        if msg in cancel_words:
            setMessage('REPROMPT_MSG', {})
            session_reset()
            return

        num = get_number(msg)
        if num is not None and num <= sum(session['intent']['items_list']['num']):
            ins = get_choice(session['intent']['items_list'], num)
            session['intent']['slots']['ins'] = ins
            session['intent']['level'] = 0
            del session['intent']['items_list']
            count_query('')
            return
        else:
            session['intent']['level'] = 1
            msg = session['intent']['items_list']
            del session['intent']['items_list']
            count_query(msg)

    # homonyms list management
    if session['intent']['level'] == 4:
        if msg in cancel_words:
            setMessage('REPROMPT_MSG', {})
            session_reset()
            return

        num = get_number(msg)
        if num is not None and num <= (len(session['intent']['homonyms_list']['item']) - 1):
            if session['intent']['homonyms_list']['obj_id'] == 2:
                # noinspection PyTypeChecker
                ins = session['intent']['homonyms_list']['item'][num]['acronym']
            else:
                # noinspection PyTypeChecker
                ins = session['intent']['homonyms_list']['item'][num]['name']
            msg = copy.deepcopy(session['intent']['homonyms_list'])
            msg["result"] = "ok"
            # noinspection PyTypeChecker
            msg["id"] = session['intent']['homonyms_list']['item'][num]['id']
            msg["item"] = ins
        else:
            msg = session['intent']['homonyms_list']

        del session['intent']['homonyms_list']
        session['intent']['level'] = 1
        count_query(msg)
        return


def list_query(msg):
    slots = session['intent']['slots']
    sub = slots.get('sub')
    obj = slots.get('obj')
    ins = slots.get('ins')
    idx = slots.get('id')
    num = slots.get('num')
    order = slots.get('order')

    sub_id = (list_subject_categories.index(sub) + 1) if sub in list_subject_categories else 0
    obj_id = (object_categories.index(obj) + 1) if obj in object_categories else 0
    order_id = (orders.index(order) + 1) if order in orders else 0

    # level == 0 - verifying slots
    if session['intent'].get('level') == 0:

        if msg in cancel_words:
            setMessage('REPROMPT_MSG', {})
            session_reset()
            return

        if num is not None and (int(num) > 10 or int(num) < 2):
            if len(msg) == 0:
                session['confirmation'] = False
                msg_options = {'num': str(num) + (' is too big' if num > 10 else ' is too small')}
                setMessage('LIST_WRONG_NUMBER_MSG', msg_options)
                return
            elif 1 < int(msg) < 11:
                session['intent']['slots']['num'] = int(msg)
                num = session['intent']['slots']['num']
                msg = ''
            else:
                num = int(msg)
                msg_options = {'num': str(num) + (' is too big' if num > 10 else ' is too small')}
                setMessage('LIST_WRONG_NUMBER_MSG', msg_options)
                return

        if sub is None and len(msg) == 0:
            session['confirmation'] = False
            setMessage('LIST_SUBJECT_REQUEST_MSG', {})
            return

        if sub is None and len(msg) > 0:
            if msg in list_subject_categories:
                sub = msg
                session['intent']['slots']['sub'] = msg
                msg = ''
                sub_id = list_subject_categories.index(sub) + 1
            else:
                setMessage('LIST_SUBJECT_WRONG_MSG', {'sub': msg})
                return

        if sub is not None and sub not in list_subject_categories:
            session['confirmation'] = False
            setMessage('LIST_SUBJECT_WRONG_MSG', {'sub': sub})
            if session['intent']['slots'].get('sub') is not None:
                del session['intent']['slots']['sub']
            return

        if ins is not None and ins != 'all':
            session['intent']['level'] = 1
            data = get_data('cmd=fnd&ins=', ins)
            list_query(data)
            return

        if (ins is not None and ins == 'all') or (ins is None and msg == 'all'):
            session['intent']['level'] = 2
            session['intent']['slots']['obj'] = 'all'
            session['intent']['slots']['ins'] = 'all'
            print num, session['intent']['slots']['num']
            list_query('')
            return

        if ins is None and len(msg) == 0:
            session['confirmation'] = False
            message = 'LIST_INSTANCE_MSG'
            setMessage(message, {'list': list_item_question(sub), 'sub': sub, 'num': num})
            return

        if ins is None and len(msg) > 0 and msg != 'all':
            session['intent']['slots']['ins'] = msg
            data = get_data('cmd=fnd&ins=', msg)
            session['intent']['level'] = 1
            list_query(data)
            return

    # verifica ins != 'all'
    if session['intent']['level'] == 1:
        assert isinstance(msg, dict)

        # ok case
        if msg['result'] == 'ok':
            # ins = msg['item']
            session['intent']['slots']['ins'] = msg['item']
            obj_id = msg['obj_id']
            obj = msg['object']
            session['intent']['slots']['obj'] = msg['object']

            if obj_id == 2 or obj_id == 4:
                session['intent']['slots']['id'] = msg['id']

            if not is_list_legal(sub, obj):
                setMessage('NO_SENSE_MSG')
                session_reset()
                return

            session['intent']['level'] = 2
            list_query('')
            return

        # kk case
        if msg['result'] == 'kk':
            message = kk_message(msg, 1)
            setMessage('TOO_GENERIC_MSG', {'ins': ins, 'results': message})
            if session['intent'].get('level') is not None:
                session['intent']['level'] = 0
            if session['intent']['slots'].get('ins') is not None:
                del session['intent']['slots']['ins']
            return

        # ko case
        if msg['result'] == 'ko':
            setMessage('NO_RESULT_MSG', {'ins': ins})
            if session['intent'].get('level') is not None:
                session['intent']['level'] = 0
            if session['intent']['slots'].get('ins') is not None:
                del session['intent']['slots']['ins']
            return

        # k2 case
        if msg['result'] == 'k2':
            session['intent']['items_list'] = msg
            message = choice_list(msg)
            setMessage('ITEM_MSG', {'ins': ins, 'msg': message})
            session['intent']['level'] = 3
            return

        # ka case homonyms
        if msg['result'] == 'ka':
            session['intent']['homonyms_list'] = msg
            message = homonyms(msg)
            setMessage('HOMONYMS_MSG', {'msg': message, 'obj': homonyms_objects[msg['obj_id'] - 1]})
            session['intent']['level'] = 4
            return

    # slots verify part II
    if session['intent']['level'] == 2:

        if msg in cancel_words:
            setMessage('REPROMPT_MSG', {})
            session_reset()
            return

        if order is None and len(msg) == 0:
            session['confirmation'] = False
            message = 'LIST_ORDER_MSG'
            if sub is not None and list_subject_categories.index(sub) == 1:
                message = 'LIST_PAPERS_ORDER_MSG'
            setMessage(message, {'num': num, 'sub': sub})
            return

        if order is None and len(msg) > 0:
            n = get_number(msg)
            if n is not None:
                if sub is not None and list_subject_categories.index(sub) == 1:
                    if -1 < n < 2:
                        msg = orders[n * 2 + 1]
                else:
                    if -1 < n < 4:
                        msg = orders[n]

            if msg in orders:
                order = msg
                session['intent']['slots']['order'] = msg
                msg = ''
                order_id = orders.index(order) + 1
            else:
                message = 'LIST_ORDER_WRONG_MSG'
                if sub is not None and list_subject_categories.index(sub) == 1:
                    message = 'LIST_PAPERS_ORDER_WRONG_MSG'
                setMessage(message, {'sub': sub, 'order': msg})
                return

        if ins is not None and ins == 'all':
            if not is_list_legal(sub, obj, order):
                setMessage('NO_SENSE_MSG')
                session_reset()
                return

            session['intent']['level'] = 5

            if session['confirmation']:
                setMessage('LIST_INTENT_CONFIRMATION_1_MSG',
                           {'order': order, 'num': num, 'sub': (list_dict[order.split(' ')[0]]['sub'][sub][sub]),
                            'prep': list_dict[order.split(' ')[0]]['prep'][sub][sub],
                            'obj': list_dict[order.split(' ')[0]]['obj'][sub][sub]})
                return
            else:
                list_query('')
                return

        if ins is not None and ins != 'all':
            if not list_legal_queries[sub][obj][orders.index(order.split(' ')[0])]:
                setMessage('NO_SENSE_MSG')
                session_reset()
                return

            msg_ins = ins
            if obj_id == 4:
                msg_ins = upper_first(ins)

            session['intent']['level'] = 5

            if session['confirmation']:
                options = {'ins': msg_ins, 'order': order, 'num': num,
                           'sub': (list_dict[order.split(' ')[0]]['sub'][sub][obj]),
                           'prep': list_dict[order.split(' ')[0]]['prep'][sub][obj],
                           'obj': list_dict[order.split(' ')[0]]['obj'][sub][obj]}

                setMessage('LIST_INTENT_CONFIRMATION_2_MSG', options)
                return
            else:
                list_query('')
                return

    # multiple result list management
    if session['intent']['level'] == 3:
        if msg in cancel_words:
            setMessage('REPROMPT_MSG')
            session_reset()
            return

        choice = get_number(msg)
        if choice is not None and choice <= sum(session['intent']['items_list']['num']):
            ins = get_choice(session['intent']['items_list'], choice)
            session['intent']['slots']['ins'] = ins
            session['intent']['level'] = 0
            del session['intent']['items_list']
            list_query('')
            return
        else:
            session['intent']['level'] = 1
            msg = session['intent']['items_list']
            del session['intent']['items_list']
            list_query(msg)

    # homonyms list management
    if session['intent']['level'] == 4:
        if msg in cancel_words:
            setMessage('REPROMPT_MSG', {})
            session_reset()
            return

        choice = get_number(msg)
        if choice is not None and choice <= (len(session['intent']['homonyms_list']['item']) - 1):
            if session['intent']['homonyms_list']['obj_id'] == 2:
                # noinspection PyTypeChecker
                ins = session['intent']['homonyms_list']['item'][num]['acronym']
            else:
                # noinspection PyTypeChecker
                ins = session['intent']['homonyms_list']['item'][num]['name']
            msg = copy.deepcopy(session['intent']['homonyms_list'])
            msg["result"] = "ok"
            # noinspection PyTypeChecker
            msg["id"] = session['intent']['homonyms_list']['item'][num]['id']
            msg["item"] = ins
        else:
            msg = session['intent']['homonyms_list']

        del session['intent']['homonyms_list']
        session['intent']['level'] = 1
        list_query(msg)
        return

    # check, confirm and display of results
    if session['intent']['level'] == 5:
        if msg in cancel_words:
            setMessage('REPROMPT_MSG')
            session_reset()
            return

        inst = ins
        if idx is not None:
            inst = idx

        call = 'cmd=lst&sub=' + str(sub_id) + '&obj=' + str(obj_id) + '&ord='
        call += str(order_id) + '&num=' + str(num) + '&ins='
        data = get_data(call, inst)

        if obj == 'all':
            obj = sub
            ins = ''

        msg_ins = ins
        if obj_id == 4:
            msg_ins = upper_first(ins)

        ord_ = order.split(' ')[0]
        sub1 = list_dict[ord_]['sub'][sub][obj]
        obj1 = list_dict[ord_]['obj'][sub][obj]
        prep = list_dict[ord_]['prep'][sub][obj]

        if data['result'] == 'ok' and len(data['lst']) > 0:

            msg_num = '' if len(data['lst']) == 1 else num
            msg_sub = sub1[0: len(sub) - 1] if len(data['lst']) == 1 else sub1
            # noinspection PyTypeChecker
            options = {'order': order, 'num': msg_num, 'sub': msg_sub, 'obj': obj1, 'prep': prep, 'ins': msg_ins,
                       'verb': (list_verbs[0] if len(data['lst']) == 1 else list_verbs[1]),
                       'lst': lst(data, order, sub)}
            setMessage('LIST_QUERY_MSG', options)

        elif len(data['lst']) == 0:
            setMessage('LIST_NO_RESULT_MSG', {'sub': sub1, 'obj': obj1, 'ins': ins, 'prep': prep})

        else:
            setMessage('NO_QUERY_MSG')

        session_reset()
        return
    return


def describe_query(msg):
    slots = session['intent']['slots']
    ins = slots.get('ins')

    # level 0 slots verify
    if session['intent']['level'] == 0:

        if msg in cancel_words:
            setMessage('REPROMPT_MSG')
            session_reset()
            return

        if ins is None and len(msg) == 0:
            session['confirmation'] = False
            setMessage('DESCRIBE_INSTANCE_MSG')
            return

        if (ins is not None) or (ins is None and len(msg) > 0):
            if ins is None:
                session['intent']['slots']['ins'] = session['original_input']  # previously msg
            data = get_data('cmd=dsc&ins=', session['intent']['slots']['ins'])
            session['intent']['level'] = 1
            describe_query(data)
            return

    # ins verify
    if session['intent']['level'] == 1:

        # ok case
        if msg['result'] == 'ok':
            message_ins = ''
            session['intent']['slots']['results'] = msg
            session['intent']['level'] = 2

            if msg['obj_id'] == 1:
                message_ins += upper_first(msg['item']['name'])
            elif msg['obj_id'] == 4:
                message_ins += msg['item']['name']
            elif 1 < msg['obj_id'] < 4 and 'conference' in msg['item']['name'].lower():
                message_ins += msg['item']['name']
            else:
                message_ins += msg['item']['name'] + ' conference'

            if session['confirmation']:
                setMessage("DESCRIBE_CONFIRM_MSG", {'ins': message_ins})
                return
            else:
                describe_query('')
                return

        # kk case - too many results
        if msg['result'] == 'kk':
            session['confirmation'] = False
            message = kk_message(msg, 0)
            setMessage('DSC_TOO_GENERIC_MSG', {'ins': ins, 'results': message})
            session['intent']['level'] = 0
            del session['intent']['slots']['ins']
            return

        # ko case - no result
        if msg['result'] == 'ko':
            session['confirmation'] = False
            setMessage('DSC_NO_RESULT_MSG', {'ins': ins})
            session['intent']['level'] = 0
            del session['intent']['slots']['ins']
            return

        # k2 case multiple results
        if msg['result'] == 'k2':
            session['confirmation'] = False
            msg['cmd'] = 'dsc'
            session['intent']['items_list'] = msg
            message = choice_list(msg)
            setMessage('ITEM_MSG', {'ins': ins, 'msg': message})
            session['intent']['level'] = 3
            return

        # ka case homonyms
        if msg['result'] == 'ka':
            session['confirmation'] = False
            session['intent']['homonyms_list'] = msg
            message = homonyms(msg)
            setMessage('HOMONYMS_MSG', {'msg': message})
            session['intent']['level'] = 4
            return

    # check, confirm and display of results
    if session['intent']['level'] == 2:

        if msg in cancel_words:
            setMessage('REPROMPT_MSG')
            session_reset()
            return

        if session['intent']['slots'].get('results') is not None:
            message = dsc(session['intent']['slots']['results'])
            appendMessage(message)
            session_reset()
            return

        else:
            setMessage('NO_QUERY_MSG')
            session_reset()
            return

    # multiple result list management
    if session['intent']['level'] == 3:

        if msg in cancel_words:
            setMessage('REPROMPT_MSG')
            session_reset()
            return

        num = get_number(msg)
        if num is not None and num <= sum(session['intent']['items_list']['num']):
            ins = get_choice(session['intent']['items_list'], num)
            session['intent']['slots']['ins'] = ins['name']
            session['intent']['level'] = 0
            del session['intent']['items_list']
            describe_query('')
            return

        else:
            session['intent']['level'] = 1
            msg = session['intent']['items_list']
            del session['intent']['items_list']
            describe_query(msg)

    # homonyms list management
    if session['intent']['level'] == 4:

        if msg in cancel_words:
            setMessage('REPROMPT_MSG')
            session_reset()
            return

        num = get_number(msg)
        if num is not None and num <= len(session['intent']['homonyms_list']['item']) - 1:
            # noinspection PyTypeChecker
            # ins = session['intent']['homonyms_list']['item'][num]['name']
            # noinspection PyTypeChecker
            idx = session['intent']['homonyms_list']['item'][num]['id']
            if session['intent']['homonyms_list']['obj_id'] == 4:
                idx = '0000000000' + str(idx)
            del session['intent']['homonyms_list']
            # url = encodeURI(api + 'cmd=dsc&ins=' + idx);
            data = get_data('cmd=dsc&ins=', idx)
            session['intent']['level'] = 1
            describe_query(data)
            return

        else:
            msg = session['intent']['homonyms_list']
            del session['intent']['homonyms_list']
            session['intent']['level'] = 1
            describe_query(msg)
            return


def cycle(user_input):
    if len(user_input) == 0:
        return
    msg = user_input
    for i in range(len(marks_list)):
        msg = msg.replace(marks_list[i], '')
    session['original_input'] = msg
    msg = msg.lower()
    # verification of intent
    if session['level'] == 0:
        intent_verify(msg)
        return
    # transfers control to complex intents depending on the intent name
    if session['level'] == 1:
        intent = getIntent(msg)[0]
        if intent != 'fallback':
            session['level'] = 0
            if session['intent'].get('level') is not None:
                session['intent']['level'] = 0
            if session['intent'].get('homonyms_list') is not None:
                del session['intent']['homonyms_list']
            if session['intent'].get('items_list') is not None:
                del session['intent']['items_list']
            intent_verify(msg)
            return
        if session['intent']['name'] == 'count':
            count_query(msg)
            return
        elif session['intent']['name'] == 'list':
            list_query(msg)
            return
        elif session['intent']['name'] == 'describe':
            describe_query(msg)
            return


def setMessage(msg, options=None):
    value = templates[msg]
    if isinstance(value, list):
        value = value[int(random.randint(0, len(value) - 1))]
    lst_ = []
    if options is not None and len(options) > 0:
        n = -1
        str0 = value
        while '$' in str0:
            n = str0.index('$', n + 1)
            n1 = str0.index("}", n) + 1
            str1 = str0[n: n1]
            lst_.append(str1)
            str0 = str0[0:n] + str0[n + 1: len(str0)]

        for i in options:
            if isinstance(options[i], list):
                value = value.replace('${' + i + '}', str(options[i][0]))
            else:
                value = value.replace('${' + i + '}', str(options[i]))
        for i in lst_:
            value = value.replace(i, '')
    while '  ' in value:
        value = value.replace('  ', ' ')

    value = value.replace(' . ', '. ')
    value = value.replace(' , ', ', ')

    zora['answer'] = value
    zora['action'] = msg


def appendMessage(value):
    zora['answer'] = value
    zora['action'] = 'DESCRIBE'


class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        #setMessage('WELCOME_MSG')
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self, s):
        cycle(str(s))
        self.speech(str(zora['answer']))
        self.Movement(zora['action'])


    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box

    def onInput_onWelcome(self):
        setMessage('WELCOME_MSG')
        self.speech(zora['answer'])
        self.Movement(zora['action'])]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
              <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
              <Input name="onWelcome" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
              <Output name="onStopped" type="3" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="5" />
              <Output name="Movement" type="0" type_size="1" nature="2" inner="0" tooltip="" id="6" />
              <Output name="speech" type="3" type_size="1" nature="2" inner="0" tooltip="" id="7" />
            </Box>
            <Box name="Apply Posture" id="1" localization="8" tooltip="Set directly all the joints of the robot in the asked posture." x="49" y="102">
              <bitmap>media/images/box/movement/setRobotPosture.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.postureService = self.session().service("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureService.stopMove()

    def onInput_onStart(self):
        result = self.postureService.applyPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
              <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
              <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
              <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
              <Parameter name="Name" inherits_from_parent="0" content_type="3" value="StandInit" default_value="Sit" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                <Choice value="Crouch" />
                <Choice value="LyingBack" />
                <Choice value="LyingBelly" />
                <Choice value="Sit" />
                <Choice value="SitRelax" />
                <Choice value="StandInit" />
                <Choice value="Stand" />
                <Choice value="StandZero" />
              </Parameter>
              <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="80" default_value="100" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
              <Resource name="All motors" type="Lock" timeout="0" />
            </Box>
            <Box name="Hello" id="6" localization="8" tooltip="Hello Motion" x="716" y="910">
              <bitmap>media/images/box/movement/move.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
              <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
              <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
              <Timeline enable="1" fps="25" start_frame="1" end_frame="95" size="95">
                <BehaviorLayer name="behavior_layer1">
                  <BehaviorKeyframe name="keyframe1" index="1">
                    <Diagram />
                  </BehaviorKeyframe>
                </BehaviorLayer>
                <ActuatorList model="">
                  <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                    <Key frame="5" value="28.2319" />
                    <Key frame="11" value="28.2319" />
                    <Key frame="17" value="21.9" />
                    <Key frame="23" value="28.2319" />
                    <Key frame="29" value="28.2319" />
                    <Key frame="35" value="28.2319" />
                    <Key frame="42" value="28.2319" />
                    <Key frame="50" value="28.2319" />
                    <Key frame="57" value="28.2319" />
                    <Key frame="64" value="28.2319" />
                    <Key frame="72" value="28.2319" />
                    <Key frame="80" value="28.2319" />
                    <Key frame="87" value="28.2319" />
                    <Key frame="94" value="28.2319" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                    <Key frame="5" value="75.6919" />
                    <Key frame="11" value="75.6919" />
                    <Key frame="17" value="51.1" />
                    <Key frame="23" value="75.6919" />
                    <Key frame="29" value="75.6919" />
                    <Key frame="35" value="75.6919" />
                    <Key frame="42" value="75.6919" />
                    <Key frame="50" value="75.6919" />
                    <Key frame="57" value="75.6919" />
                    <Key frame="64" value="75.6919" />
                    <Key frame="72" value="75.6919" />
                    <Key frame="80" value="75.6919" />
                    <Key frame="87" value="75.6919" />
                    <Key frame="94" value="75.6919" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                    <Key frame="5" value="0.32867" />
                    <Key frame="11" value="0.32867" />
                    <Key frame="17" value="0.32867" />
                    <Key frame="23" value="0.32867" />
                    <Key frame="29" value="0.91" />
                    <Key frame="35" value="0.08" />
                    <Key frame="42" value="0.91" />
                    <Key frame="50" value="0.08" />
                    <Key frame="57" value="0.91" />
                    <Key frame="64" value="0.08" />
                    <Key frame="72" value="0.91" />
                    <Key frame="80" value="0.32867" />
                    <Key frame="87" value="0.32867" />
                    <Key frame="94" value="0.32867" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                    <Key frame="5" value="81.7" />
                    <Key frame="11" value="2" />
                    <Key frame="17" value="-57.2" />
                    <Key frame="23" value="-53.1" />
                    <Key frame="29" value="-53.1" />
                    <Key frame="35" value="-53.1" />
                    <Key frame="42" value="-53.1" />
                    <Key frame="50" value="-53.1" />
                    <Key frame="57" value="-53.1" />
                    <Key frame="64" value="-53.1" />
                    <Key frame="72" value="-53.1" />
                    <Key frame="80" value="2" />
                    <Key frame="87" value="81.7" />
                    <Key frame="94" value="90.9" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                    <Key frame="5" value="-12.1675" />
                    <Key frame="11" value="-12.1675" />
                    <Key frame="17" value="-12.1675" />
                    <Key frame="23" value="-12.1675" />
                    <Key frame="29" value="-12.1675" />
                    <Key frame="35" value="-12.1675" />
                    <Key frame="42" value="-12.1675" />
                    <Key frame="50" value="-12.1675" />
                    <Key frame="57" value="-12.1675" />
                    <Key frame="64" value="-12.1675" />
                    <Key frame="72" value="-12.1675" />
                    <Key frame="80" value="-12.1675" />
                    <Key frame="87" value="-12.1675" />
                    <Key frame="94" value="-12.1675" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                    <Key frame="5" value="8.63999" />
                    <Key frame="11" value="8.63999" />
                    <Key frame="17" value="-52.7" />
                    <Key frame="23" value="-85.7" />
                    <Key frame="29" value="-85.7" />
                    <Key frame="35" value="-85.7" />
                    <Key frame="42" value="-85.7" />
                    <Key frame="50" value="-85.7" />
                    <Key frame="57" value="-85.7" />
                    <Key frame="64" value="-85.7" />
                    <Key frame="72" value="-85.7" />
                    <Key frame="80" value="8.63999" />
                    <Key frame="87" value="8.63999" />
                    <Key frame="94" value="8.63999" />
                  </ActuatorCurve>
                </ActuatorList>
              </Timeline>
            </Box>
            <Box name="Motion" id="7" localization="8" tooltip="" x="413" y="193">
              <bitmap>media/images/box/box-python-script.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[actions = {
    'welcome': ['WELCOME_MSG'],
    'hello': ['HELLO_MSG'],
    'help': ['HELP_MSG'],
    'bye': ['GOODBYE_MSG'],
    'fallback': ['FALLBACK_MSG'],
    'choice': ['ITEM_MSG', 'HOMONYMS_MSG'],
    'instance_request': ['INSTANCE_MSG', 'INSTANCE2_MSG', 'LIST_INSTANCE_MSG', 'DESCRIBE_INSTANCE_MSG'],
    'parameters_request': ['SUBJECT_REQUEST_MSG', 'LIST_SUBJECT_REQUEST_MSG', 'LIST_ORDER_MSG',
                           'LIST_PAPERS_ORDER_MSG'],
    'confirmation': ['INTENT_CONFIRMATION_1_MSG', 'INTENT_CONFIRMATION_2_MSG', 'LIST_INTENT_CONFIRMATION_1_MSG',
                     'LIST_INTENT_CONFIRMATION_2_MSG', 'DESCRIBE_CONFIRM_MSG'],
    'negative': ['NO_RESULT_MSG', 'REPROMPT_MSG', 'LIST_NO_RESULT_MSG', 'DSC_NO_RESULT_MSG'],
    'result': ['QUERY_1_MSG', 'QUERY_2_MSG', 'LIST_QUERY_MSG', 'DESCRIBE'],
    'wrong_input': ['LIST_WRONG_NUMBER_MSG', 'LIST_SUBJECT_WRONG_MSG', 'LIST_PAPERS_ORDER_WRONG_MSG',
                    'LIST_ORDER_WRONG_MSG', 'SUBJECT_WRONG_MSG'],
    'confusion': ['DSC_TOO_GENERIC_MSG', 'TOO_GENERIC_MSG', 'NO_QUERY_MSG', 'NO_SENSE_MSG']
}




def get_action(msg):
    for key in actions:
        if msg in actions[key]:
            return key


class MyClass(GeneratedClass):

    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_cmd(self, p):
        animations = {
            'welcome': self.onWelcome,
            'hello': self.onHello,
            'help': self.onHelp,
            'bye': self.onCancel,
            'fallback': self.onFallback,
            'choice': self.onChoice,
            'instance_request': self.onInstance,
            'parameters_request': self.onRequest,
            'confirmation': self.onConfirmation,
            'negative': self.onNegative,
            'result': self.onResult,
            'wrong_input': self.onWrongInput,
            'confusion': self.onConfusion
            }
        action = animations.get(get_action(p),self.onFallback)
        action()

    def onInput_stop(self):
        self.stopMove()]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="cmd" type="3" type_size="1" nature="1" inner="0" tooltip="" id="2" />
              <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="" id="3" />
              <Output name="onWelcome" type="1" type_size="1" nature="2" inner="0" tooltip="" id="4" />
              <Output name="onHello" type="1" type_size="1" nature="2" inner="0" tooltip="" id="5" />
              <Output name="onHelp" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
              <Output name="onCancel" type="1" type_size="1" nature="2" inner="0" tooltip="" id="7" />
              <Output name="onFallback" type="1" type_size="1" nature="2" inner="0" tooltip="" id="8" />
              <Output name="onChoice" type="1" type_size="1" nature="2" inner="0" tooltip="" id="9" />
              <Output name="onInstance" type="1" type_size="1" nature="2" inner="0" tooltip="" id="10" />
              <Output name="onRequest" type="1" type_size="1" nature="2" inner="0" tooltip="" id="11" />
              <Output name="onConfirmation" type="1" type_size="1" nature="2" inner="0" tooltip="" id="12" />
              <Output name="onNegative" type="1" type_size="1" nature="2" inner="0" tooltip="" id="13" />
              <Output name="onResult" type="1" type_size="1" nature="2" inner="0" tooltip="" id="14" />
              <Output name="onWrongInput" type="1" type_size="1" nature="2" inner="0" tooltip="" id="15" />
              <Output name="onConfusion" type="1" type_size="1" nature="2" inner="0" tooltip="" id="16" />
              <Output name="stopMove" type="1" type_size="1" nature="2" inner="0" tooltip="" id="17" />
            </Box>
            <Box name="Say Text" id="9" localization="8" tooltip="Say the text received on its input." x="263" y="261">
              <bitmap>media/images/box/interaction/say.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[import time

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.tts = self.session().service('ALTextToSpeech')
        self.ttsStop = self.session().service('ALTextToSpeech') #Create another service as wait is blocking if audioout is remote
        self.bIsRunning = False
        self.ids = []

    def onUnload(self):
        for id in self.ids:
            try:
                self.ttsStop.stop(id)
            except:
                pass
        while( self.bIsRunning ):
            time.sleep( 0.2 )

    def onInput_onStart(self, p):
        self.bIsRunning = True
        try:
            sentence = "\RSPD="+ str( self.getParameter("Speed (%)") ) + "\ "
            sentence += "\VCT="+ str( self.getParameter("Voice shaping (%)") ) + "\ "
            sentence += str(p)
            sentence +=  "\RST\ "
            id = self.tts.pCall("say",str(sentence))
            self.ids.append(id)
            self.tts.wait(id)
        finally:
            try:
                self.ids.remove(id)
            except:
                pass
            if( self.ids == [] ):
                self.onStopped() # activate output of the box
                self.bIsRunning = False

    def onInput_onStop(self):
        self.onUnload()]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
              <Input name="onStart" type="3" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
              <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
              <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
              <Parameter name="Voice shaping (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="150" tooltip='Used to modify at runtime the voice feature (tone, speed). In a slighty&#x0A;different way than pitch and speed, it gives a kind of &quot;gender or age&#x0A;modification&quot; effect.&#x0A;&#x0A;For instance, a quite good male derivation of female voice can be&#x0A;obtained setting this parameter to 78%.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the&#x0A;speed parameter. For example, if you want to decrease by 20% the voice&#x0A;shaping, you will have to increase by 20% the speed to keep a constant&#x0A;average speed.' id="5" />
              <Parameter name="Speed (%)" inherits_from_parent="1" content_type="1" value="100" default_value="100" min="50" max="200" tooltip="Changes the speed of the voice.&#x0A;&#x0A;Note: For a better effect, you can compensate this parameter with the voice&#x0A;shaping parameter. For example, if you want to increase by 20% the speed, you&#x0A;will have to decrease by 20% the voice shaping to keep a constant average&#x0A;speed." id="6" />
              <Resource name="Speech" type="Lock" timeout="0" />
            </Box>
            <Box name="Stand" id="14" localization="8" tooltip="Set directly all the joints of the robot in the asked posture." x="858" y="384">
              <bitmap>media/images/box/movement/setRobotPosture.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.postureService = self.session().service("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureService.stopMove()

    def onInput_onStart(self):
        result = self.postureService.applyPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
              <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
              <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
              <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
              <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Stand" default_value="Sit" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                <Choice value="Crouch" />
                <Choice value="LyingBack" />
                <Choice value="LyingBelly" />
                <Choice value="Sit" />
                <Choice value="SitRelax" />
                <Choice value="StandInit" />
                <Choice value="Stand" />
                <Choice value="StandZero" />
              </Parameter>
              <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="80" default_value="100" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
              <Resource name="All motors" type="Lock" timeout="0" />
            </Box>
            <Box name="Confused" id="20" localization="8" tooltip="" x="653" y="464">
              <bitmap>media/images/box/movement/move.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
              <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
              <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
              <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
              <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="65">
                <ActuatorList model="nao">
                  <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="-1">
                    <Key frame="25" value="2.72224" />
                    <Key frame="45" value="-0.00240423" />
                    <Key frame="65" value="5.71056" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="-1">
                    <Key frame="25" value="-30.8524" />
                    <Key frame="45" value="-33.4013" />
                    <Key frame="65" value="-30.4129" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="-1">
                    <Key frame="23" value="69.8715" />
                    <Key frame="43" value="73.7388" />
                    <Key frame="63" value="75.4087" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="-1">
                    <Key frame="23" value="0.498473" />
                    <Key frame="43" value="3.51326" />
                    <Key frame="63" value="2.89802" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="-1">
                    <Key frame="23" value="-28.3914" />
                    <Key frame="43" value="-55.7258" />
                    <Key frame="63" value="-68.7337" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="-1">
                    <Key frame="23" value="-46.4923" />
                    <Key frame="43" value="-67.9379" />
                    <Key frame="63" value="-61.0823" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="-1">
                    <Key frame="43" value="-43" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LHand" mute="0" unit="-1">
                    <Key frame="43" value="0.58" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="-1">
                    <Key frame="21" value="76.3803" />
                    <Key frame="41" value="73.8315" />
                    <Key frame="61" value="83.148" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="-1">
                    <Key frame="21" value="-0.529755" />
                    <Key frame="41" value="-0.881321" />
                    <Key frame="61" value="-0.969213" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="-1">
                    <Key frame="21" value="44.4708" />
                    <Key frame="41" value="55.1936" />
                    <Key frame="61" value="69.6078" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="-1">
                    <Key frame="21" value="69.8763" />
                    <Key frame="41" value="79.896" />
                    <Key frame="61" value="65.9212" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="-1">
                    <Key frame="41" value="52" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RHand" mute="0" unit="-1">
                    <Key frame="41" value="0.527273" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="-1">
                    <Key frame="42" value="-27.9472" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="-1">
                    <Key frame="42" value="1.40867" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="-1">
                    <Key frame="42" value="-3.86483" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="-1">
                    <Key frame="42" value="30.2323" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="-1">
                    <Key frame="42" value="-10.9889" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="-1">
                    <Key frame="42" value="0.178188" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="-1">
                    <Key frame="42" value="1.49656" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="-1">
                    <Key frame="42" value="-0.79343" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="-1">
                    <Key frame="42" value="26.8973" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="-1">
                    <Key frame="42" value="-10.0173" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="-1">
                    <Key frame="42" value="-1.84332" />
                  </ActuatorCurve>
                </ActuatorList>
              </Timeline>
              <Resource name="Standing" type="Lock" timeout="1" />
              <Resource name="All motors" type="Lock" timeout="1" />
            </Box>
            <Box name="Negative" id="22" localization="8" tooltip="" x="667" y="573">
              <bitmap>media/images/box/movement/move.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
              <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
              <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
              <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
              <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="145">
                <BehaviorLayer name="LED">
                  <BehaviorKeyframe name="thinking" index="1">
                    <Diagram>
                      <Box name="blinks" id="1" localization="8" tooltip="blinks" x="151" y="48">
                        <bitmap>media/images/box/box-diagram.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        self.leds = self.session().service("ALLeds")

    def onUnload(self):
        #~ puts code for box cleanup here
        pass

    def onInput_onStart(self):
        rDuration = 0.05;
        self.leds.fadeRGB( "FaceLed0", 0x000000, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed1", 0xffffff, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed2", 0x000000, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed3", 0x000000, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed4", 0x000000, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed5", 0xffffff, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed6", 0x000000, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );

        rDuration = 0.05;
        self.leds.fadeRGB( "FaceLeds", 0xffffff, rDuration );

        time.sleep( 0.2 );

        rDuration = 0.05;
        self.leds.fadeRGB( "FaceLed0", 0x000000, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed1", 0xffffff, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed2", 0x000000, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed3", 0x000000, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed4", 0x000000, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed5", 0xffffff, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed6", 0x000000, rDuration, _async=True );
        self.leds.fadeRGB( "FaceLed7", 0x000000, rDuration );

        time.sleep( 0.1 );

        rDuration = 0.05;
        self.leds.fadeRGB( "FaceLeds", 0xffffff, rDuration );

        time.sleep( 0.5 );

        rDuration = 1;
        self.leds.fadeRGB( "FaceLeds", 0x000000, rDuration );

        time.sleep( 2.5 );

        rDuration = 0.6;
        self.leds.fadeRGB( "FaceLeds", 0xffffff, rDuration );


        return;


    def onInput_onStop(self):
        self.onUnload() #~ it is usually a good idea to call onUnload of this box in a onStop method, as the code written in onUnload is used to finish the working of the box as well
        pass]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                      </Box>
                      <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                    </Diagram>
                  </BehaviorKeyframe>
                </BehaviorLayer>
                <ActuatorList model="nao">
                  <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="-1">
                    <Key frame="32" value="1.49176" />
                    <Key frame="62" value="8.08363" />
                    <Key frame="106" value="14.3239" />
                    <Key frame="145" value="-2.99072" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="-1">
                    <Key frame="32" value="1.49176" />
                    <Key frame="62" value="30.5839" />
                    <Key frame="106" value="30.5839" />
                    <Key frame="145" value="3.33748" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="-1">
                    <Key frame="28" value="81.1217" />
                    <Key frame="58" value="78.3091" />
                    <Key frame="102" value="78.2212" />
                    <Key frame="141" value="85.4284" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="-1">
                    <Key frame="28" value="7.11683" />
                    <Key frame="58" value="7.64418" />
                    <Key frame="102" value="12.0388" />
                    <Key frame="141" value="9.92936" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="-1">
                    <Key frame="28" value="-44.2119" />
                    <Key frame="58" value="-67.3275" />
                    <Key frame="102" value="-73.1283" />
                    <Key frame="141" value="-46.4971" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="-1">
                    <Key frame="28" value="-54.7541" />
                    <Key frame="58" value="-23.2889" />
                    <Key frame="102" value="-14.9392" />
                    <Key frame="141" value="-33.6601" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="-1">
                    <Key frame="58" value="-41.3115" />
                    <Key frame="102" value="-40.4326" />
                    <Key frame="141" value="-40.3447" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LHand" mute="0" unit="-1">
                    <Key frame="58" value="0.268389" />
                    <Key frame="102" value="0.261844" />
                    <Key frame="141" value="0.270207" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="-1">
                    <Key frame="24" value="76.8198" />
                    <Key frame="54" value="72.0736" />
                    <Key frame="98" value="73.5678" />
                    <Key frame="137" value="84.5542" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="-1">
                    <Key frame="24" value="-6.85796" />
                    <Key frame="54" value="-6.68218" />
                    <Key frame="98" value="-8.26423" />
                    <Key frame="137" value="-12.8346" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="-1">
                    <Key frame="24" value="40.9551" />
                    <Key frame="54" value="47.547" />
                    <Key frame="98" value="54.3147" />
                    <Key frame="137" value="48.0744" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="-1">
                    <Key frame="24" value="46.6729" />
                    <Key frame="54" value="17.3171" />
                    <Key frame="98" value="7.4732" />
                    <Key frame="137" value="35.3349" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="-1">
                    <Key frame="54" value="55.1057" />
                    <Key frame="98" value="54.9299" />
                    <Key frame="137" value="54.842" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RHand" mute="0" unit="-1">
                    <Key frame="54" value="0.359298" />
                    <Key frame="98" value="0.350207" />
                    <Key frame="137" value="0.364025" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="-1">
                    <Key frame="56" value="-18.9718" />
                    <Key frame="100" value="-21.1691" />
                    <Key frame="139" value="-16.6866" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="-1">
                    <Key frame="56" value="0" />
                    <Key frame="100" value="-1.6232" />
                    <Key frame="139" value="6.81441" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="-1">
                    <Key frame="56" value="-22.1872" />
                    <Key frame="100" value="-23.7693" />
                    <Key frame="139" value="5.58656" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="-1">
                    <Key frame="56" value="19" />
                    <Key frame="100" value="21.8249" />
                    <Key frame="139" value="10.1353" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="-1">
                    <Key frame="56" value="3" />
                    <Key frame="100" value="1.44574" />
                    <Key frame="139" value="-2" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="-1">
                    <Key frame="56" value="-3" />
                    <Key frame="100" value="-1.28216" />
                    <Key frame="139" value="-5.50096" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="-1">
                    <Key frame="56" value="2.29103" />
                    <Key frame="100" value="4.40043" />
                    <Key frame="139" value="-2" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="-1">
                    <Key frame="56" value="-18.2768" />
                    <Key frame="100" value="-20.5619" />
                    <Key frame="139" value="3.95985" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="-1">
                    <Key frame="56" value="18.8154" />
                    <Key frame="100" value="20.9248" />
                    <Key frame="139" value="9.67464" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="-1">
                    <Key frame="56" value="-1" />
                    <Key frame="100" value="-2.49492" />
                    <Key frame="139" value="-2" />
                  </ActuatorCurve>
                  <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="-1">
                    <Key frame="56" value="2" />
                    <Key frame="100" value="0.217547" />
                    <Key frame="139" value="1" />
                  </ActuatorCurve>
                </ActuatorList>
              </Timeline>
              <Resource name="Standing" type="Lock" timeout="1" />
              <Resource name="Left eye leds" type="Lock" timeout="1" />
              <Resource name="Right eye leds" type="Lock" timeout="1" />
              <Resource name="HeadYaw" type="Lock" timeout="1" />
              <Resource name="HeadPitch" type="Lock" timeout="1" />
              <Resource name="LShoulderPitch" type="Lock" timeout="1" />
              <Resource name="LShoulderRoll" type="Lock" timeout="1" />
              <Resource name="LElbowRoll" type="Lock" timeout="1" />
              <Resource name="LElbowYaw" type="Lock" timeout="1" />
              <Resource name="LWristYaw" type="Lock" timeout="1" />
              <Resource name="LHand" type="Lock" timeout="1" />
              <Resource name="RShoulderPitch" type="Lock" timeout="1" />
              <Resource name="RShoulderRoll" type="Lock" timeout="1" />
              <Resource name="RElbowRoll" type="Lock" timeout="1" />
              <Resource name="RElbowYaw" type="Lock" timeout="1" />
              <Resource name="RWristYaw" type="Lock" timeout="1" />
              <Resource name="RHand" type="Lock" timeout="1" />
              <Resource name="LHipYawPitch" type="Lock" timeout="1" />
              <Resource name="LHipRoll" type="Lock" timeout="1" />
              <Resource name="LHipPitch" type="Lock" timeout="1" />
              <Resource name="LKneePitch" type="Lock" timeout="1" />
              <Resource name="LAnklePitch" type="Lock" timeout="1" />
              <Resource name="LAnkleRoll" type="Lock" timeout="1" />
              <Resource name="RHipRoll" type="Lock" timeout="1" />
              <Resource name="RHipPitch" type="Lock" timeout="1" />
              <Resource name="RKneePitch" type="Lock" timeout="1" />
              <Resource name="RAnklePitch" type="Lock" timeout="1" />
              <Resource name="RAnkleRoll" type="Lock" timeout="1" />
            </Box>
            <Box name="Crouch" id="26" localization="8" tooltip="Set directly all the joints of the robot in the asked posture." x="885" y="185">
              <bitmap>media/images/box/movement/setRobotPosture.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.postureService = self.session().service("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureService.stopMove()

    def onInput_onStart(self):
        result = self.postureService.applyPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
              <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
              <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
              <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
              <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Crouch" default_value="Sit" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                <Choice value="Crouch" />
                <Choice value="LyingBack" />
                <Choice value="LyingBelly" />
                <Choice value="Sit" />
                <Choice value="SitRelax" />
                <Choice value="StandInit" />
                <Choice value="Stand" />
                <Choice value="StandZero" />
              </Parameter>
              <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="80" default_value="100" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
              <Resource name="All motors" type="Lock" timeout="0" />
            </Box>
            <Box name="Choice" id="5" localization="8" tooltip="Choice box" x="105" y="720">
              <bitmap>media/images/box/box-diagram.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="input" type="1" type_size="1" nature="2" inner="0" tooltip="" id="2" />
              <Input name="stopAction" type="1" type_size="1" nature="1" inner="0" tooltip="" id="3" />
              <Output name="onStop" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
              <Timeline enable="0">
                <BehaviorLayer name="behavior_layer1">
                  <BehaviorKeyframe name="keyframe1" index="1">
                    <Diagram>
                      <Box name="Choice" id="4" localization="8" tooltip="" x="434" y="248">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="-1">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram />
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                        </Timeline>
                      </Box>
                      <Box name="Random " id="1" localization="8" tooltip="Random action selector" x="210" y="46">
                        <bitmap>media/images/box/box-python-script.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        pass
        animations = [self.action1]
        action = animations[int(random.randint(0, len(animations) - 1))]
        action()

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Output name="action1" type="1" type_size="1" nature="2" inner="0" tooltip="" id="5" />
                      </Box>
                      <Link inputowner="0" indexofinput="4" outputowner="4" indexofoutput="4" />
                      <Link inputowner="4" indexofinput="2" outputowner="1" indexofoutput="5" />
                      <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                      <Link inputowner="4" indexofinput="3" outputowner="0" indexofoutput="3" />
                    </Diagram>
                  </BehaviorKeyframe>
                </BehaviorLayer>
              </Timeline>
            </Box>
            <Box name="onResult" id="4" localization="8" tooltip="" x="676" y="681">
              <bitmap>media/images/box/movement/move.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="input" type="1" type_size="1" nature="2" inner="0" tooltip="" id="2" />
              <Input name="stopAction" type="1" type_size="1" nature="1" inner="0" tooltip="" id="3" />
              <Output name="onStop" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
              <Timeline enable="0">
                <BehaviorLayer name="behavior_layer1">
                  <BehaviorKeyframe name="keyframe1" index="1">
                    <Diagram>
                      <Box name="Choice" id="4" localization="8" tooltip="" x="552" y="150">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="-1">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram />
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                        </Timeline>
                      </Box>
                      <Box name="Random " id="1" localization="8" tooltip="Random action selector" x="259" y="244">
                        <bitmap>media/images/box/box-python-script.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        pass
        animations = [self.action1,self.action2]
        action = animations[int(random.randint(0, len(animations) - 1))]
        action()

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Output name="action1" type="1" type_size="1" nature="2" inner="0" tooltip="" id="5" />
                        <Output name="action2" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                      </Box>
                      <Box name="Result" id="27" localization="8" tooltip="Enter description here" x="555" y="40">
                        <bitmap>media/images/box/box-diagram.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="activate" type="1" type_size="1" nature="2" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="2" />
                        <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="3" />
                        <Output name="finish" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                        <Timeline enable="0">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram>
                                <Box name="move arm" id="29" localization="8" tooltip="" x="375" y="57">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="31">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="19" value="-6.5" />
                                        <Key frame="31" value="12.8913" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                                        <Key frame="31" value="8.87482" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HipPitch" mute="0" unit="0">
                                        <Key frame="28" value="-3.43271" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HipRoll" mute="0" unit="0">
                                        <Key frame="28" value="-3.2" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="KneePitch" mute="0" unit="0">
                                        <Key frame="28" value="-2.85928" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="17" value="-45.8" />
                                        <Key frame="29" value="-85.0768" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="17" value="-80.4" />
                                        <Key frame="29" value="-54.7589" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="17" value="0.96" />
                                        <Key frame="29" value="0.7036" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="29" value="-29.3582" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="29" value="18.8064" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="17" value="-51.3" />
                                        <Key frame="29" value="-47.7276" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="15" value="32.9" />
                                        <Key frame="27" value="21.8875" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="15" value="84.7" />
                                        <Key frame="27" value="70.7504" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="15" value="0.54" />
                                        <Key frame="27" value="0.3504" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="27" value="88.6852" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="27" value="-6.24271" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="15" value="28.5" />
                                        <Key frame="27" value="1.75543" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="28" value="6.94104" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="28" value="-0.173378" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="28" value="7.20952" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="28" value="-0.349159" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="28" value="-13.7087" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="28" value="-5.18802" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="28" value="6.59429" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="28" value="-1.0523" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="28" value="7.73207" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="28" value="1.40867" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="28" value="-13.7087" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="28" value="-5.29" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Box name="repeater" id="25" localization="8" tooltip="Wait for both inputs to be stimulated before stimulating its output." x="376" y="312">
                                  <bitmap>media/images/box/wait.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[

class MyClass(GeneratedClass):

    def __init__(self):
        GeneratedClass.__init__(self, False)
        self.ok = False

    def onLoad(self):
        pass

    def onUnload(self):
        #puts code for box cleanup here
        pass

    def onStart(self, nInput):
        if nInput == 1:
            self.ok = False

        if nInput == 2 and self.ok:
            self.signalsReceived()

    def onInput_stop(self):
        self.onStart(1)
        self.finish()

    def onInput_repeat(self):
        self.onStart(2)

    def onInput_activate(self):
        self.ok = True]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                  <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="Stop continuative movement" id="2" />
                                  <Input name="repeat" type="1" type_size="1" nature="1" inner="0" tooltip="Start repeat" id="3" />
                                  <Input name="activate" type="1" type_size="1" nature="1" inner="0" tooltip="Start moving" id="4" />
                                  <Output name="signalsReceived" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when both inputs have been stimulated." id="5" />
                                  <Output name="finish" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                                </Box>
                                <Box name="move fingers" id="1" localization="8" tooltip="" x="384" y="536">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="77" size="77">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="37" value="11.5" />
                                        <Key frame="76" value="13.8" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                                        <Key frame="76" value="9.00008" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HipPitch" mute="0" unit="0">
                                        <Key frame="73" value="-3.43291" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HipRoll" mute="0" unit="0">
                                        <Key frame="73" value="-3.3" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="KneePitch" mute="0" unit="0">
                                        <Key frame="73" value="-2.85951" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="74" value="-86.9" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="74" value="-52.1" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="1" value="0.44" />
                                        <Key frame="10" value="0.73" />
                                        <Key frame="25" value="0.44" />
                                        <Key frame="35" value="0.73" />
                                        <Key frame="52" value="0.44" />
                                        <Key frame="62" value="0.73" />
                                        <Key frame="74" value="0.65" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="74" value="-33.3" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="74" value="19.6" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="74" value="-49.4001" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="72" value="20.7" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="72" value="69.9984" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="72" value="0.33" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="72" value="89.9544" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="72" value="-6.8755" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="72" value="-1.9" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="73" value="7.02893" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="73" value="-0.173378" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="73" value="7.20952" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="73" value="-0.349159" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="73" value="-13.7087" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="73" value="-5.10013" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="73" value="6.68218" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="73" value="-1.0523" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="73" value="7.81997" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="73" value="1.40867" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="73" value="-13.7087" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="73" value="-5.29" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Link inputowner="25" indexofinput="2" outputowner="0" indexofoutput="3" />
                                <Link inputowner="0" indexofinput="4" outputowner="25" indexofoutput="6" />
                                <Link inputowner="25" indexofinput="4" outputowner="29" indexofoutput="4" />
                                <Link inputowner="29" indexofinput="3" outputowner="25" indexofoutput="6" />
                                <Link inputowner="1" indexofinput="2" outputowner="25" indexofoutput="5" />
                                <Link inputowner="29" indexofinput="2" outputowner="0" indexofoutput="2" />
                                <Link inputowner="25" indexofinput="3" outputowner="29" indexofoutput="4" />
                                <Link inputowner="25" indexofinput="3" outputowner="1" indexofoutput="4" />
                              </Diagram>
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                        </Timeline>
                      </Box>
                      <Link inputowner="0" indexofinput="4" outputowner="4" indexofoutput="4" />
                      <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                      <Link inputowner="4" indexofinput="3" outputowner="0" indexofoutput="3" />
                      <Link inputowner="27" indexofinput="2" outputowner="1" indexofoutput="5" />
                      <Link inputowner="4" indexofinput="2" outputowner="1" indexofoutput="6" />
                      <Link inputowner="27" indexofinput="3" outputowner="0" indexofoutput="3" />
                      <Link inputowner="0" indexofinput="4" outputowner="27" indexofoutput="4" />
                    </Diagram>
                  </BehaviorKeyframe>
                </BehaviorLayer>
              </Timeline>
            </Box>
            <Box name="OnWelcome" id="8" localization="8" tooltip="Choice box" x="637" y="25">
              <bitmap>media/images/box/movement/move.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="input" type="1" type_size="1" nature="2" inner="0" tooltip="" id="2" />
              <Input name="stopAction" type="1" type_size="1" nature="1" inner="0" tooltip="" id="3" />
              <Output name="onStop" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
              <Timeline enable="0">
                <BehaviorLayer name="behavior_layer1">
                  <BehaviorKeyframe name="keyframe1" index="1">
                    <Diagram>
                      <Box name="Bow" id="4" localization="8" tooltip="" x="411" y="368">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="99">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram />
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                          <ActuatorList model="">
                            <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                              <Key frame="60" value="29.5" />
                              <Key frame="99" value="-7.89978" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                              <Key frame="60" value="-88.5" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                              <Key frame="60" value="-16.1939" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                              <Key frame="60" value="1" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                              <Key frame="60" value="37.8766" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                              <Key frame="60" value="-52.7627" />
                            </ActuatorCurve>
                          </ActuatorList>
                        </Timeline>
                      </Box>
                      <Box name="Random " id="1" localization="8" tooltip="Random action selector" x="140" y="6">
                        <bitmap>media/images/box/box-python-script.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        pass
        animations = [self.action1,self.action2,self.action3]
        action = animations[int(random.randint(0, len(animations) - 1))]
        action()

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Output name="action1" type="1" type_size="1" nature="2" inner="0" tooltip="" id="5" />
                        <Output name="action2" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                        <Output name="action3" type="1" type_size="1" nature="2" inner="0" tooltip="" id="7" />
                      </Box>
                      <Box name="open arms" id="3" localization="8" tooltip="" x="406" y="235">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="113">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram />
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                          <ActuatorList model="">
                            <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                              <Key frame="13" value="-37.9442" />
                              <Key frame="26" value="-37.9442" />
                              <Key frame="38" value="-37.9442" />
                              <Key frame="51" value="-37.9442" />
                              <Key frame="63" value="-37.9442" />
                              <Key frame="76" value="-37.9442" />
                              <Key frame="88" value="-37.9442" />
                              <Key frame="101" value="-37.9442" />
                              <Key frame="113" value="-37.9442" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                              <Key frame="13" value="-119.5" />
                              <Key frame="26" value="-119.5" />
                              <Key frame="38" value="-119.5" />
                              <Key frame="51" value="-119.5" />
                              <Key frame="63" value="-119.5" />
                              <Key frame="76" value="-119.5" />
                              <Key frame="88" value="-119.5" />
                              <Key frame="101" value="-119.5" />
                              <Key frame="113" value="-119.5" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                              <Key frame="13" value="0.957107" />
                              <Key frame="26" value="0.957107" />
                              <Key frame="38" value="0.957107" />
                              <Key frame="51" value="0.957107" />
                              <Key frame="63" value="0.957107" />
                              <Key frame="76" value="0.957107" />
                              <Key frame="88" value="0.957107" />
                              <Key frame="101" value="0.957107" />
                              <Key frame="113" value="0.957107" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                              <Key frame="13" value="45.2306" />
                              <Key frame="26" value="45.2288" />
                              <Key frame="38" value="45.2288" />
                              <Key frame="51" value="45.2288" />
                              <Key frame="63" value="45.2288" />
                              <Key frame="76" value="45.2288" />
                              <Key frame="88" value="45.2288" />
                              <Key frame="101" value="45.2288" />
                              <Key frame="113" value="45.2288" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                              <Key frame="13" value="28.2226" />
                              <Key frame="26" value="28.2226" />
                              <Key frame="38" value="28.2226" />
                              <Key frame="51" value="28.2226" />
                              <Key frame="63" value="28.2226" />
                              <Key frame="76" value="28.2226" />
                              <Key frame="88" value="28.2226" />
                              <Key frame="101" value="28.2226" />
                              <Key frame="113" value="28.2226" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                              <Key frame="13" value="5.72958" />
                              <Key frame="26" value="5.72958" />
                              <Key frame="38" value="5.72958" />
                              <Key frame="51" value="5.72958" />
                              <Key frame="63" value="5.72958" />
                              <Key frame="76" value="5.72958" />
                              <Key frame="88" value="5.72958" />
                              <Key frame="101" value="5.72958" />
                              <Key frame="113" value="5.72958" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                              <Key frame="13" value="46.6974" />
                              <Key frame="26" value="46.6974" />
                              <Key frame="38" value="46.6974" />
                              <Key frame="51" value="46.6974" />
                              <Key frame="63" value="46.6974" />
                              <Key frame="76" value="46.6974" />
                              <Key frame="88" value="46.6974" />
                              <Key frame="101" value="46.6974" />
                              <Key frame="113" value="46.6974" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                              <Key frame="13" value="119.499" />
                              <Key frame="26" value="119.5" />
                              <Key frame="38" value="119.5" />
                              <Key frame="51" value="119.5" />
                              <Key frame="63" value="119.5" />
                              <Key frame="76" value="119.5" />
                              <Key frame="88" value="119.5" />
                              <Key frame="101" value="119.5" />
                              <Key frame="113" value="119.5" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                              <Key frame="13" value="0.975801" />
                              <Key frame="26" value="0.975801" />
                              <Key frame="38" value="0.975801" />
                              <Key frame="51" value="0.975801" />
                              <Key frame="63" value="0.975801" />
                              <Key frame="76" value="0.975801" />
                              <Key frame="88" value="0.975801" />
                              <Key frame="101" value="0.975801" />
                              <Key frame="113" value="0.975801" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                              <Key frame="13" value="53.8958" />
                              <Key frame="26" value="53.8924" />
                              <Key frame="38" value="53.8924" />
                              <Key frame="51" value="53.8924" />
                              <Key frame="63" value="53.8924" />
                              <Key frame="76" value="53.8924" />
                              <Key frame="88" value="53.8924" />
                              <Key frame="101" value="53.8924" />
                              <Key frame="113" value="53.8924" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                              <Key frame="13" value="-28.4187" />
                              <Key frame="26" value="-28.4187" />
                              <Key frame="38" value="-28.4187" />
                              <Key frame="51" value="-28.4187" />
                              <Key frame="63" value="-28.4187" />
                              <Key frame="76" value="-28.4187" />
                              <Key frame="88" value="-28.4187" />
                              <Key frame="101" value="-28.4187" />
                              <Key frame="113" value="-28.4187" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                              <Key frame="13" value="5.72958" />
                              <Key frame="26" value="5.72958" />
                              <Key frame="38" value="5.72958" />
                              <Key frame="51" value="5.72958" />
                              <Key frame="63" value="5.72958" />
                              <Key frame="76" value="5.72958" />
                              <Key frame="88" value="5.72958" />
                              <Key frame="101" value="5.72958" />
                              <Key frame="113" value="5.72958" />
                            </ActuatorCurve>
                          </ActuatorList>
                        </Timeline>
                      </Box>
                      <Box name="WideGatherBothHandsOnChest_LeanRight_01" id="54" localization="8" tooltip="ID : #01C 0035&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;-&#x0A;-&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Flex&#x0A;End stance : LeanRight" x="416" y="509">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="39">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe5" index="5">
                              <Diagram />
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                          <ActuatorList model="">
                            <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                              <Key frame="17" value="10.1051" />
                              <Key frame="28" value="-10.0221" />
                              <Key frame="39" value="-10.0221" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                              <Key frame="17" value="4.04062" />
                              <Key frame="28" value="-0.00240423" />
                              <Key frame="39" value="-0.00240423" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                              <Key frame="14" value="-15.6471" />
                              <Key frame="25" value="-7.91266" />
                              <Key frame="36" value="-8.17634" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                              <Key frame="36" value="-7.64417" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                              <Key frame="26" value="-85.5163" />
                              <Key frame="37" value="-85.5163" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                              <Key frame="14" value="-97.2" />
                              <Key frame="26" value="-48.5186" />
                              <Key frame="37" value="-48.5186" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                              <Key frame="7" value="0.53" />
                              <Key frame="26" value="0.8312" />
                              <Key frame="37" value="0.6" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                              <Key frame="14" value="-5.18321" />
                              <Key frame="25" value="0.793436" />
                              <Key frame="36" value="1.67234" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                              <Key frame="36" value="8.87946" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                              <Key frame="14" value="-10.193" />
                              <Key frame="25" value="-10.7204" />
                              <Key frame="36" value="-10.193" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                              <Key frame="14" value="27.7714" />
                              <Key frame="25" value="14.3239" />
                              <Key frame="36" value="15.5544" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                              <Key frame="26" value="53.3987" />
                              <Key frame="37" value="55.0987" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                              <Key frame="14" value="11.1" smooth="1" symmetrical="1">
                                <Tangent side="left" interpType="bezier" abscissaParam="-4.49354" ordinateParam="6.34287" />
                                <Tangent side="right" interpType="bezier" abscissaParam="3.8516" ordinateParam="-5.43675" />
                              </Key>
                              <Key frame="26" value="-3.95753" />
                              <Key frame="37" value="-3.95753" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                              <Key frame="14" value="-34.2" />
                              <Key frame="26" value="-2.99072" />
                              <Key frame="37" value="-2.99072" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                              <Key frame="14" value="-13.8845" />
                              <Key frame="25" value="-4.56796" />
                              <Key frame="36" value="-5.88634" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                              <Key frame="36" value="-0.700723" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                              <Key frame="25" value="87.191" />
                              <Key frame="36" value="87.191" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                              <Key frame="13" value="88.2" />
                              <Key frame="25" value="56.3362" />
                              <Key frame="36" value="56.3362" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                              <Key frame="13" value="0.86" />
                              <Key frame="25" value="0.342" />
                              <Key frame="36" value="0.342" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                              <Key frame="14" value="-8.70368" />
                              <Key frame="25" value="2.81013" />
                              <Key frame="36" value="2.63435" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                              <Key frame="36" value="3.86964" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                              <Key frame="14" value="-10.193" />
                              <Key frame="25" value="-10.7204" />
                              <Key frame="36" value="-10.193" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                              <Key frame="14" value="28.4793" />
                              <Key frame="25" value="9.14314" />
                              <Key frame="36" value="11.9557" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                              <Key frame="25" value="53.3987" />
                              <Key frame="36" value="55.0987" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                              <Key frame="25" value="5.48945" />
                              <Key frame="36" value="7.3805" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                              <Key frame="13" value="34.2" />
                              <Key frame="25" value="-2.99072" />
                              <Key frame="36" value="-2.99072" />
                            </ActuatorCurve>
                          </ActuatorList>
                        </Timeline>
                        <Resource name="Standing" type="Lock" timeout="1" />
                        <Resource name="All motors" type="Lock" timeout="1" />
                      </Box>
                      <Link inputowner="0" indexofinput="4" outputowner="4" indexofoutput="4" />
                      <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                      <Link inputowner="4" indexofinput="3" outputowner="0" indexofoutput="3" />
                      <Link inputowner="3" indexofinput="2" outputowner="1" indexofoutput="5" />
                      <Link inputowner="0" indexofinput="4" outputowner="3" indexofoutput="4" />
                      <Link inputowner="3" indexofinput="3" outputowner="0" indexofoutput="3" />
                      <Link inputowner="4" indexofinput="2" outputowner="1" indexofoutput="6" />
                      <Link inputowner="0" indexofinput="4" outputowner="54" indexofoutput="4" />
                      <Link inputowner="54" indexofinput="2" outputowner="1" indexofoutput="7" />
                    </Diagram>
                  </BehaviorKeyframe>
                </BehaviorLayer>
              </Timeline>
            </Box>
            <Box name="onHello" id="3" localization="8" tooltip="Hello action" x="642" y="144">
              <bitmap>media/images/box/box-dialog.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="input" type="1" type_size="1" nature="2" inner="0" tooltip="" id="2" />
              <Input name="stopAction" type="1" type_size="1" nature="1" inner="0" tooltip="" id="3" />
              <Output name="onStop" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
              <Timeline enable="0">
                <BehaviorLayer name="behavior_layer1">
                  <BehaviorKeyframe name="keyframe1" index="1">
                    <Diagram>
                      <Box name="Random " id="1" localization="8" tooltip="Random action selector" x="210" y="20">
                        <bitmap>media/images/box/box-python-script.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        pass
        animations = [self.action1,self.action2,self.action3,self.action4]
        action = animations[int(random.randint(0, len(animations) - 1))]
        action()

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Output name="action1" type="1" type_size="1" nature="2" inner="0" tooltip="" id="5" />
                        <Output name="action2" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                        <Output name="action3" type="1" type_size="1" nature="2" inner="0" tooltip="" id="7" />
                        <Output name="action4" type="1" type_size="1" nature="2" inner="0" tooltip="" id="8" />
                      </Box>
                      <Box name="Hello" id="6" localization="8" tooltip="Hello Motion" x="82" y="587">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Timeline enable="1" fps="25" start_frame="1" end_frame="95" size="95">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram />
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                          <ActuatorList model="">
                            <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                              <Key frame="5" value="28.2319" />
                              <Key frame="11" value="28.2319" />
                              <Key frame="17" value="21.9" />
                              <Key frame="23" value="28.2319" />
                              <Key frame="29" value="28.2319" />
                              <Key frame="35" value="28.2319" />
                              <Key frame="42" value="28.2319" />
                              <Key frame="50" value="28.2319" />
                              <Key frame="57" value="28.2319" />
                              <Key frame="64" value="28.2319" />
                              <Key frame="72" value="28.2319" />
                              <Key frame="80" value="28.2319" />
                              <Key frame="87" value="28.2319" />
                              <Key frame="94" value="28.2319" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                              <Key frame="5" value="75.6919" />
                              <Key frame="11" value="75.6919" />
                              <Key frame="17" value="51.1" />
                              <Key frame="23" value="75.6919" />
                              <Key frame="29" value="75.6919" />
                              <Key frame="35" value="75.6919" />
                              <Key frame="42" value="75.6919" />
                              <Key frame="50" value="75.6919" />
                              <Key frame="57" value="75.6919" />
                              <Key frame="64" value="75.6919" />
                              <Key frame="72" value="75.6919" />
                              <Key frame="80" value="75.6919" />
                              <Key frame="87" value="75.6919" />
                              <Key frame="94" value="75.6919" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                              <Key frame="5" value="0.32867" />
                              <Key frame="11" value="0.32867" />
                              <Key frame="17" value="0.32867" />
                              <Key frame="23" value="0.32867" />
                              <Key frame="29" value="0.91" />
                              <Key frame="35" value="0.08" />
                              <Key frame="42" value="0.91" />
                              <Key frame="50" value="0.08" />
                              <Key frame="57" value="0.91" />
                              <Key frame="64" value="0.08" />
                              <Key frame="72" value="0.91" />
                              <Key frame="80" value="0.32867" />
                              <Key frame="87" value="0.32867" />
                              <Key frame="94" value="0.32867" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                              <Key frame="5" value="81.7" />
                              <Key frame="11" value="2" />
                              <Key frame="17" value="-57.2" />
                              <Key frame="23" value="-53.1" />
                              <Key frame="29" value="-53.1" />
                              <Key frame="35" value="-53.1" />
                              <Key frame="42" value="-53.1" />
                              <Key frame="50" value="-53.1" />
                              <Key frame="57" value="-53.1" />
                              <Key frame="64" value="-53.1" />
                              <Key frame="72" value="-53.1" />
                              <Key frame="80" value="2" />
                              <Key frame="87" value="81.7" />
                              <Key frame="94" value="90.9" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                              <Key frame="5" value="-12.1675" />
                              <Key frame="11" value="-12.1675" />
                              <Key frame="17" value="-12.1675" />
                              <Key frame="23" value="-12.1675" />
                              <Key frame="29" value="-12.1675" />
                              <Key frame="35" value="-12.1675" />
                              <Key frame="42" value="-12.1675" />
                              <Key frame="50" value="-12.1675" />
                              <Key frame="57" value="-12.1675" />
                              <Key frame="64" value="-12.1675" />
                              <Key frame="72" value="-12.1675" />
                              <Key frame="80" value="-12.1675" />
                              <Key frame="87" value="-12.1675" />
                              <Key frame="94" value="-12.1675" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                              <Key frame="5" value="8.63999" />
                              <Key frame="11" value="8.63999" />
                              <Key frame="17" value="-52.7" />
                              <Key frame="23" value="-85.7" />
                              <Key frame="29" value="-85.7" />
                              <Key frame="35" value="-85.7" />
                              <Key frame="42" value="-85.7" />
                              <Key frame="50" value="-85.7" />
                              <Key frame="57" value="-85.7" />
                              <Key frame="64" value="-85.7" />
                              <Key frame="72" value="-85.7" />
                              <Key frame="80" value="8.63999" />
                              <Key frame="87" value="8.63999" />
                              <Key frame="94" value="8.63999" />
                            </ActuatorCurve>
                          </ActuatorList>
                        </Timeline>
                      </Box>
                      <Box name="FastPointAtUserLeftArm_01" id="133" localization="8" tooltip="ID : #01B 0002&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- You&#x0A;- Yourself&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : LeanFront&#x0A;End stance : Center" x="248" y="584">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="45">
                          <ActuatorList model="">
                            <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                              <Key frame="8" value="-2.9" />
                              <Key frame="13" value="8.6" />
                              <Key frame="17" value="-7.6" />
                              <Key frame="24" value="9.4" />
                              <Key frame="35" value="-2.1997" />
                              <Key frame="45" value="-3.34228" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                              <Key frame="8" value="-1.40867" />
                              <Key frame="17" value="-5.89115" />
                              <Key frame="24" value="-8.26423" />
                              <Key frame="35" value="-5.45169" />
                              <Key frame="45" value="-5.45169" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                              <Key frame="8" value="0.612832" />
                              <Key frame="17" value="1.14019" />
                              <Key frame="24" value="3.33748" />
                              <Key frame="35" value="7.29261" />
                              <Key frame="45" value="8.4352" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                              <Key frame="8" value="-2.1949" />
                              <Key frame="17" value="0.178186" />
                              <Key frame="24" value="1.49656" />
                              <Key frame="35" value="-2.1949" />
                              <Key frame="45" value="-2.63435" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                              <Key frame="8" value="-81.8248" />
                              <Key frame="17" value="-35.7" />
                              <Key frame="24" value="-42.2735" />
                              <Key frame="35" value="-59.6761" />
                              <Key frame="45" value="-63.7191" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                              <Key frame="8" value="-67.8548" />
                              <Key frame="17" value="-68.4701" />
                              <Key frame="24" value="-71.6341" />
                              <Key frame="35" value="-55.6379" />
                              <Key frame="45" value="-53.2648" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                              <Key frame="8" value="0.0984" />
                              <Key frame="17" value="0.84" />
                              <Key frame="24" value="0.7" />
                              <Key frame="35" value="0.436" />
                              <Key frame="45" value="0.3828" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                              <Key frame="8" value="25.5789" />
                              <Key frame="17" value="12.3951" />
                              <Key frame="24" value="16.9655" />
                              <Key frame="35" value="13.6256" />
                              <Key frame="45" value="12.8346" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                              <Key frame="8" value="3.43018" />
                              <Key frame="17" value="0.0902951" />
                              <Key frame="24" value="-0.876518" />
                              <Key frame="35" value="3.95753" />
                              <Key frame="45" value="5.10013" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                              <Key frame="8" value="-18.1033" />
                              <Key frame="17" value="-19.8611" />
                              <Key frame="24" value="-20.1248" />
                              <Key frame="35" value="-20.3006" />
                              <Key frame="45" value="-20.0369" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                              <Key frame="8" value="-4.66066" />
                              <Key frame="17" value="2.28279" />
                              <Key frame="24" value="-4.22121" />
                              <Key frame="35" value="-4.3091" />
                              <Key frame="45" value="-4.04543" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                              <Key frame="8" value="61.4339" />
                              <Key frame="17" value="49" />
                              <Key frame="24" value="51.2385" />
                              <Key frame="35" value="68.9047" />
                              <Key frame="45" value="68.1137" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                              <Key frame="8" value="1.49175" />
                              <Key frame="17" value="-0.00240423" />
                              <Key frame="24" value="0.0854867" />
                              <Key frame="35" value="-0.529749" />
                              <Key frame="45" value="-1.76024" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                              <Key frame="8" value="-52.6496" />
                              <Key frame="17" value="-52.0343" />
                              <Key frame="24" value="-52.6496" />
                              <Key frame="35" value="-5.80326" />
                              <Key frame="45" value="8.34731" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                              <Key frame="8" value="-2.28279" />
                              <Key frame="17" value="-2.54646" />
                              <Key frame="24" value="2.55127" />
                              <Key frame="35" value="4.39699" />
                              <Key frame="45" value="5.10013" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                              <Key frame="8" value="7.56109" />
                              <Key frame="17" value="8.08845" />
                              <Key frame="24" value="8.61579" />
                              <Key frame="35" value="4.66066" />
                              <Key frame="45" value="3.34228" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                              <Key frame="8" value="50.1007" />
                              <Key frame="17" value="51.507" />
                              <Key frame="24" value="53.089" />
                              <Key frame="35" value="42.0147" />
                              <Key frame="45" value="40.6084" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                              <Key frame="8" value="79.2759" />
                              <Key frame="17" value="86.3952" />
                              <Key frame="24" value="89.6472" />
                              <Key frame="35" value="87.8893" />
                              <Key frame="45" value="87.9772" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                              <Key frame="8" value="0.5008" />
                              <Key frame="17" value="0.28" />
                              <Key frame="24" value="0.14" />
                              <Key frame="35" value="0.1532" />
                              <Key frame="45" value="0.1532" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                              <Key frame="8" value="27.73" />
                              <Key frame="17" value="12.654" />
                              <Key frame="24" value="18.4549" />
                              <Key frame="35" value="16.7849" />
                              <Key frame="45" value="16.6091" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                              <Key frame="8" value="-11.7751" />
                              <Key frame="17" value="-10.3688" />
                              <Key frame="24" value="-11.7751" />
                              <Key frame="35" value="-5.44688" />
                              <Key frame="45" value="-4.48007" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                              <Key frame="8" value="-18.1033" />
                              <Key frame="17" value="-19.8611" />
                              <Key frame="24" value="-20.1248" />
                              <Key frame="35" value="-20.3006" />
                              <Key frame="45" value="-20.0369" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                              <Key frame="8" value="-5.18321" />
                              <Key frame="17" value="4.66066" />
                              <Key frame="24" value="-4.74374" />
                              <Key frame="35" value="-4.2164" />
                              <Key frame="45" value="-4.39218" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                              <Key frame="8" value="103.627" />
                              <Key frame="17" value="104.154" />
                              <Key frame="24" value="105.56" />
                              <Key frame="35" value="103.539" />
                              <Key frame="45" value="104.154" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                              <Key frame="8" value="-6.85796" />
                              <Key frame="17" value="-8.35212" />
                              <Key frame="24" value="-8.96736" />
                              <Key frame="35" value="-9.58261" />
                              <Key frame="45" value="-11.3404" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                              <Key frame="8" value="-4.39699" />
                              <Key frame="17" value="-4.39699" />
                              <Key frame="24" value="-4.39699" />
                              <Key frame="35" value="-4.39699" />
                              <Key frame="45" value="-4.39699" />
                            </ActuatorCurve>
                          </ActuatorList>
                        </Timeline>
                        <Resource name="Standing" type="Lock" timeout="1" />
                        <Resource name="All motors" type="Lock" timeout="1" />
                      </Box>
                      <Box name="StrongArmsOpen_FlexEnd_01" id="129" localization="8" tooltip="ID : #01A 0022&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- Now&#x0A;- Somewhere&#x0A;- Front&#x0A;- Near&#x0A;- Present&#x0A;- Down&#x0A;- Low&#x0A;- Everywhere&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : Center" x="395" y="615">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="39">
                          <ActuatorList model="">
                            <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                              <Key frame="1" value="-2.46338" />
                              <Key frame="13" value="-12.0436" />
                              <Key frame="26" value="4.7" />
                              <Key frame="38" value="-9.40682" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                              <Key frame="1" value="4.91954" />
                              <Key frame="13" value="2.28279" />
                              <Key frame="26" value="2.28279" />
                              <Key frame="38" value="3.0738" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                              <Key frame="1" value="-1.32078" />
                              <Key frame="11" value="1.75543" />
                              <Key frame="25" value="-3.34228" />
                              <Key frame="35" value="-3.60597" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                              <Key frame="1" value="0.441859" />
                              <Key frame="11" value="-3.33748" />
                              <Key frame="25" value="-3.60116" />
                              <Key frame="35" value="-3.33748" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                              <Key frame="1" value="-71.2778" />
                              <Key frame="11" value="-87.0983" />
                              <Key frame="24" value="-66.3" />
                              <Key frame="36" value="-74.5" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                              <Key frame="1" value="-48.6944" />
                              <Key frame="11" value="-65.9212" />
                              <Key frame="24" value="-98.4411" />
                              <Key frame="36" value="-101.517" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                              <Key frame="1" value="0.2132" />
                              <Key frame="11" value="0.2132" />
                              <Key frame="24" value="0.68" />
                              <Key frame="36" value="0.7728" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                              <Key frame="1" value="13.8893" />
                              <Key frame="11" value="25.6668" />
                              <Key frame="25" value="-6.58948" />
                              <Key frame="35" value="-0.700723" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                              <Key frame="1" value="1.05711" />
                              <Key frame="11" value="6.41851" />
                              <Key frame="25" value="-0.524941" />
                              <Key frame="35" value="0.705531" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                              <Key frame="1" value="-20.2127" />
                              <Key frame="11" value="-19.4217" />
                              <Key frame="25" value="-21.0037" />
                              <Key frame="35" value="-21.2674" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                              <Key frame="1" value="7.3805" />
                              <Key frame="11" value="-4.92435" />
                              <Key frame="25" value="22.9373" />
                              <Key frame="35" value="17.9275" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                              <Key frame="1" value="83.7584" />
                              <Key frame="11" value="76.3755" />
                              <Key frame="24" value="76.0239" />
                              <Key frame="36" value="80.6822" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                              <Key frame="1" value="4.74374" />
                              <Key frame="11" value="-2.37549" />
                              <Key frame="24" value="-0.529749" />
                              <Key frame="36" value="-1.76024" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                              <Key frame="1" value="30.9355" />
                              <Key frame="11" value="12.5661" />
                              <Key frame="24" value="-40.6084" />
                              <Key frame="36" value="-46.3213" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                              <Key frame="1" value="0.0902951" />
                              <Key frame="11" value="-3.77694" />
                              <Key frame="25" value="-15.2908" />
                              <Key frame="35" value="-14.4118" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                              <Key frame="1" value="7.29742" />
                              <Key frame="11" value="4.04543" />
                              <Key frame="25" value="0.969218" />
                              <Key frame="35" value="1.93602" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                              <Key frame="1" value="72.5131" />
                              <Key frame="14" value="86.9273" />
                              <Key frame="26" value="66.3" />
                              <Key frame="39" value="74.5" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                              <Key frame="1" value="79.8912" />
                              <Key frame="14" value="67.4984" />
                              <Key frame="26" value="107.313" />
                              <Key frame="39" value="111.269" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                              <Key frame="1" value="0.0456001" />
                              <Key frame="14" value="0.0456001" />
                              <Key frame="26" value="0.68" />
                              <Key frame="39" value="0.7692" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                              <Key frame="1" value="17.5759" />
                              <Key frame="11" value="26.7167" />
                              <Key frame="25" value="-13.8014" />
                              <Key frame="35" value="-5.71537" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                              <Key frame="1" value="-9.84147" />
                              <Key frame="11" value="-7.46839" />
                              <Key frame="25" value="-4.12851" />
                              <Key frame="35" value="-4.48007" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                              <Key frame="1" value="-20.2127" />
                              <Key frame="11" value="-19.4217" />
                              <Key frame="25" value="-21.0037" />
                              <Key frame="35" value="-21.2674" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                              <Key frame="1" value="1.40867" />
                              <Key frame="11" value="-0.700723" />
                              <Key frame="25" value="39.9931" />
                              <Key frame="35" value="32.0829" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                              <Key frame="1" value="105.297" />
                              <Key frame="14" value="74.4467" />
                              <Key frame="26" value="86.7515" />
                              <Key frame="39" value="87.6305" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                              <Key frame="1" value="-7.82477" />
                              <Key frame="14" value="-1.145" />
                              <Key frame="26" value="2.37068" />
                              <Key frame="39" value="2.28279" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                              <Key frame="1" value="-19.4265" />
                              <Key frame="14" value="5.09532" />
                              <Key frame="26" value="53.6115" />
                              <Key frame="39" value="63.1917" />
                            </ActuatorCurve>
                          </ActuatorList>
                        </Timeline>
                        <Resource name="Standing" type="Lock" timeout="1" />
                        <Resource name="All motors" type="Lock" timeout="1" />
                      </Box>
                      <Box name="Hello1" id="27" localization="8" tooltip="Hello action box 1" x="392" y="188">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="activate" type="1" type_size="1" nature="2" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="2" />
                        <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="3" />
                        <Output name="finish" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                        <Timeline enable="0">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram>
                                <Box name="repeater" id="25" localization="8" tooltip="Wait for both inputs to be stimulated before stimulating its output." x="364" y="196">
                                  <bitmap>media/images/box/wait.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[

class MyClass(GeneratedClass):

    def __init__(self):
        GeneratedClass.__init__(self, False)
        self.ok = False

    def onLoad(self):
        pass

    def onUnload(self):
        #puts code for box cleanup here
        pass

    def onStart(self, nInput):
        if nInput == 1:
            self.ok = False

        if nInput == 2 and self.ok:
            self.signalsReceived()

    def onInput_stop(self):
        self.onStart(1)
        self.finish()

    def onInput_repeat(self):
        self.onStart(2)

    def onInput_activate(self):
        self.ok = True]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                  <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="Stop continuative movement" id="2" />
                                  <Input name="repeat" type="1" type_size="1" nature="1" inner="0" tooltip="Start repeat" id="3" />
                                  <Input name="activate" type="1" type_size="1" nature="1" inner="0" tooltip="Start moving" id="4" />
                                  <Output name="signalsReceived" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when both inputs have been stimulated." id="5" />
                                  <Output name="finish" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                                </Box>
                                <Box name="PointAtSelfRightArm_01" id="4" localization="8" tooltip="ID : #01B 0007&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- Me&#x0A;- Myself&#x0A;- I&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : No&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Flex&#x0A;End stance : Center" x="366" y="374">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="25">
                                    <BehaviorLayer name="behavior_layer1">
                                      <BehaviorKeyframe name="keyframe1" index="1">
                                        <Diagram />
                                      </BehaviorKeyframe>
                                    </BehaviorLayer>
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="13" value="12.1267" />
                                        <Key frame="23" value="-6.85796" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="12" value="-9.58261" />
                                        <Key frame="22" value="-5.27591" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="12" value="-4.56796" />
                                        <Key frame="22" value="-4.2164" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="15" value="-53.3" />
                                        <Key frame="25" value="-27.6835" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="15" value="-70.4" />
                                        <Key frame="25" value="-73.392" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="15" value="0.19" />
                                        <Key frame="25" value="0.6624" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="12" value="-3.95273" />
                                        <Key frame="22" value="2.72705" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="12" value="6.68218" />
                                        <Key frame="22" value="4.83644" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="12" value="-11.6872" />
                                        <Key frame="22" value="-9.66569" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="12" value="24.6073" />
                                        <Key frame="22" value="12.4782" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="15" value="76.5" />
                                        <Key frame="25" value="86.5709" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="15" value="12.8" />
                                        <Key frame="25" value="11.1598" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="15" value="-45.7061" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.7632" ordinateParam="-15.8836" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.17547" ordinateParam="10.5891" />
                                        </Key>
                                        <Key frame="25" value="-21.7117" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-3.30702" ordinateParam="-5.02698" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="0" ordinateParam="0" />
                                        </Key>
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="12" value="-5.79845" />
                                        <Key frame="22" value="2.02391" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="12" value="3.43018" />
                                        <Key frame="22" value="-0.0854867" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="13" value="49.3" />
                                        <Key frame="23" value="88.5" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="13" value="61.346" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-3.21391" ordinateParam="20.6006" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="2.47225" ordinateParam="-15.8466" />
                                        </Key>
                                        <Key frame="23" value="21.5311" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="13" value="1" />
                                        <Key frame="23" value="0.45" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="12" value="1.93121" />
                                        <Key frame="22" value="10.9841" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="12" value="-0.173378" />
                                        <Key frame="22" value="2.37549" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="12" value="-11.6872" />
                                        <Key frame="22" value="-9.66569" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="12" value="15.1198" />
                                        <Key frame="22" value="-2.28279" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="13" value="55.9894" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-3.96019" ordinateParam="7.95114" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.0463" ordinateParam="-6.11625" />
                                        </Key>
                                        <Key frame="23" value="40.8721" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="13" value="-2.11181" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.33333" ordinateParam="-6.39629" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.33333" ordinateParam="4.92023" />
                                        </Key>
                                        <Key frame="23" value="9.31412" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="13" value="60.2913" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.24005" ordinateParam="7.72419" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.26158" ordinateParam="-5.94168" />
                                        </Key>
                                        <Key frame="23" value="48.338" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Box name="WidePointAtUserRightArm_LeanRight_01" id="63" localization="8" tooltip="ID : #01B 0019&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- You&#x0A;- Yourself&#x0A;- Them&#x0A;- Him / Her&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : LeanRight" x="366" y="53">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="28">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="12" value="-8.79157" />
                                        <Key frame="23" value="4.2164" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                                        <Key frame="12" value="-12.654" />
                                        <Key frame="23" value="-11.1598" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="14" value="-7.29261" />
                                        <Key frame="26" value="1.23289" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="14" value="-8.87946" />
                                        <Key frame="26" value="-12.2194" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="14" value="-36.829" />
                                        <Key frame="26" value="-25.4031" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="14" value="-71.3657" />
                                        <Key frame="26" value="-70.311" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="14" value="0.28" />
                                        <Key frame="26" value="0.5068" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="14" value="5.35899" />
                                        <Key frame="26" value="10.3688" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="14" value="8.96255" />
                                        <Key frame="26" value="13.7966" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="14" value="-13.445" />
                                        <Key frame="26" value="-13.7087" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="14" value="14.2409" />
                                        <Key frame="26" value="0.353968" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="14" value="97.1228" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.28168" ordinateParam="5.87221" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.67001" ordinateParam="-5.03332" />
                                        </Key>
                                        <Key frame="26" value="76.1166" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="14" value="19.4265" />
                                        <Key frame="26" value="10.1978" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="14" value="-44.9982">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.19912" ordinateParam="13.7624" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.59925" ordinateParam="-11.7963" />
                                        </Key>
                                        <Key frame="26" value="-67.059" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="14" value="-6.68218" />
                                        <Key frame="26" value="-1.76024" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="14" value="1.31597" />
                                        <Key frame="26" value="-1.84813" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="16" value="87.8893" />
                                        <Key frame="28" value="38.4942" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="16" value="73.8315" />
                                        <Key frame="28" value="79.3686" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="16" value="0.28" />
                                        <Key frame="28" value="0.9572" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="14" value="6.24271" />
                                        <Key frame="26" value="9.14314" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="14" value="-0.969218" />
                                        <Key frame="26" value="4.39218" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="14" value="-13.445" />
                                        <Key frame="26" value="-13.7087" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="14" value="13.6208" />
                                        <Key frame="26" value="4.2164" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="16" value="54.9299" />
                                        <Key frame="28" value="65.389" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="16" value="4.92435" />
                                        <Key frame="28" value="-0.524941" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="16" value="84.73" />
                                        <Key frame="28" value="94.2224" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Link inputowner="25" indexofinput="2" outputowner="0" indexofoutput="3" />
                                <Link inputowner="0" indexofinput="4" outputowner="25" indexofoutput="6" />
                                <Link inputowner="25" indexofinput="3" outputowner="63" indexofoutput="4" />
                                <Link inputowner="25" indexofinput="4" outputowner="63" indexofoutput="4" />
                                <Link inputowner="63" indexofinput="2" outputowner="0" indexofoutput="2" />
                                <Link inputowner="63" indexofinput="3" outputowner="25" indexofoutput="6" />
                                <Link inputowner="25" indexofinput="3" outputowner="4" indexofoutput="4" />
                                <Link inputowner="4" indexofinput="2" outputowner="25" indexofoutput="5" />
                              </Diagram>
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                        </Timeline>
                      </Box>
                      <Box name="Hello2" id="3" localization="8" tooltip="Hello action box 2" x="391" y="289">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="activate" type="1" type_size="1" nature="2" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="2" />
                        <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="3" />
                        <Output name="finish" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                        <Timeline enable="0">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram>
                                <Box name="repeater" id="25" localization="8" tooltip="Wait for both inputs to be stimulated before stimulating its output." x="364" y="196">
                                  <bitmap>media/images/box/wait.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[

class MyClass(GeneratedClass):

    def __init__(self):
        GeneratedClass.__init__(self, False)
        self.ok = False

    def onLoad(self):
        pass

    def onUnload(self):
        #puts code for box cleanup here
        pass

    def onStart(self, nInput):
        if nInput == 1:
            self.ok = False

        if nInput == 2 and self.ok:
            self.signalsReceived()

    def onInput_stop(self):
        self.onStart(1)
        self.finish()

    def onInput_repeat(self):
        self.onStart(2)

    def onInput_activate(self):
        self.ok = True]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                  <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="Stop continuative movement" id="2" />
                                  <Input name="repeat" type="1" type_size="1" nature="1" inner="0" tooltip="Start repeat" id="3" />
                                  <Input name="activate" type="1" type_size="1" nature="1" inner="0" tooltip="Start moving" id="4" />
                                  <Output name="signalsReceived" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when both inputs have been stimulated." id="5" />
                                  <Output name="finish" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                                </Box>
                                <Box name="PointAtSelfRightArm_01" id="4" localization="8" tooltip="ID : #01B 0007&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- Me&#x0A;- Myself&#x0A;- I&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : No&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Flex&#x0A;End stance : Center" x="366" y="374">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="25">
                                    <BehaviorLayer name="behavior_layer1">
                                      <BehaviorKeyframe name="keyframe1" index="1">
                                        <Diagram />
                                      </BehaviorKeyframe>
                                    </BehaviorLayer>
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="13" value="12.1267" />
                                        <Key frame="23" value="-6.85796" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="12" value="-9.58261" />
                                        <Key frame="22" value="-5.27591" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="12" value="-4.56796" />
                                        <Key frame="22" value="-4.2164" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="15" value="-53.3" />
                                        <Key frame="25" value="-27.6835" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="15" value="-70.4" />
                                        <Key frame="25" value="-73.392" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="15" value="0.19" />
                                        <Key frame="25" value="0.6624" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="12" value="-3.95273" />
                                        <Key frame="22" value="2.72705" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="12" value="6.68218" />
                                        <Key frame="22" value="4.83644" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="12" value="-11.6872" />
                                        <Key frame="22" value="-9.66569" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="12" value="24.6073" />
                                        <Key frame="22" value="12.4782" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="15" value="76.5" />
                                        <Key frame="25" value="86.5709" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="15" value="12.8" />
                                        <Key frame="25" value="11.1598" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="15" value="-45.7061" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.7632" ordinateParam="-15.8836" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.17547" ordinateParam="10.5891" />
                                        </Key>
                                        <Key frame="25" value="-21.7117" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-3.30702" ordinateParam="-5.02698" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="0" ordinateParam="0" />
                                        </Key>
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="12" value="-5.79845" />
                                        <Key frame="22" value="2.02391" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="12" value="3.43018" />
                                        <Key frame="22" value="-0.0854867" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="13" value="49.3" />
                                        <Key frame="23" value="88.5" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="13" value="61.346" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-3.21391" ordinateParam="20.6006" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="2.47225" ordinateParam="-15.8466" />
                                        </Key>
                                        <Key frame="23" value="21.5311" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="13" value="1" />
                                        <Key frame="23" value="0.45" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="12" value="1.93121" />
                                        <Key frame="22" value="10.9841" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="12" value="-0.173378" />
                                        <Key frame="22" value="2.37549" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="12" value="-11.6872" />
                                        <Key frame="22" value="-9.66569" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="12" value="15.1198" />
                                        <Key frame="22" value="-2.28279" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="13" value="55.9894" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-3.96019" ordinateParam="7.95114" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.0463" ordinateParam="-6.11625" />
                                        </Key>
                                        <Key frame="23" value="40.8721" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="13" value="-2.11181" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.33333" ordinateParam="-6.39629" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.33333" ordinateParam="4.92023" />
                                        </Key>
                                        <Key frame="23" value="9.31412" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="13" value="60.2913" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.24005" ordinateParam="7.72419" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.26158" ordinateParam="-5.94168" />
                                        </Key>
                                        <Key frame="23" value="48.338" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Box name="WidePointAtUserRightArm_LeanRight_01" id="63" localization="8" tooltip="ID : #01B 0019&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- You&#x0A;- Yourself&#x0A;- Them&#x0A;- Him / Her&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : LeanRight" x="366" y="53">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="28">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="12" value="-8.79157" />
                                        <Key frame="23" value="4.2164" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                                        <Key frame="12" value="-12.654" />
                                        <Key frame="23" value="-11.1598" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="14" value="-7.29261" />
                                        <Key frame="26" value="1.23289" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="14" value="-8.87946" />
                                        <Key frame="26" value="-12.2194" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="14" value="-36.829" />
                                        <Key frame="26" value="-25.4031" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="14" value="-71.3657" />
                                        <Key frame="26" value="-70.311" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="14" value="0.28" />
                                        <Key frame="26" value="0.5068" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="14" value="5.35899" />
                                        <Key frame="26" value="10.3688" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="14" value="8.96255" />
                                        <Key frame="26" value="13.7966" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="14" value="-13.445" />
                                        <Key frame="26" value="-13.7087" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="14" value="14.2409" />
                                        <Key frame="26" value="0.353968" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="14" value="97.1228" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.28168" ordinateParam="5.87221" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.67001" ordinateParam="-5.03332" />
                                        </Key>
                                        <Key frame="26" value="76.1166" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="14" value="19.4265" />
                                        <Key frame="26" value="10.1978" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="14" value="-44.9982">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.19912" ordinateParam="13.7624" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.59925" ordinateParam="-11.7963" />
                                        </Key>
                                        <Key frame="26" value="-67.059" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="14" value="-6.68218" />
                                        <Key frame="26" value="-1.76024" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="14" value="1.31597" />
                                        <Key frame="26" value="-1.84813" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="16" value="87.8893" />
                                        <Key frame="28" value="38.4942" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="16" value="73.8315" />
                                        <Key frame="28" value="79.3686" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="16" value="0.28" />
                                        <Key frame="28" value="0.9572" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="14" value="6.24271" />
                                        <Key frame="26" value="9.14314" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="14" value="-0.969218" />
                                        <Key frame="26" value="4.39218" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="14" value="-13.445" />
                                        <Key frame="26" value="-13.7087" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="14" value="13.6208" />
                                        <Key frame="26" value="4.2164" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="16" value="54.9299" />
                                        <Key frame="28" value="65.389" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="16" value="4.92435" />
                                        <Key frame="28" value="-0.524941" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="16" value="84.73" />
                                        <Key frame="28" value="94.2224" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Box name="OpenArmInFrontWithBump_01" id="2" localization="8" tooltip="ID : #01B 0005&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- You&#x0A;- Yourslef&#x0A;- Yours&#x0A;- Everybody&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : No&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : Center" x="205" y="635">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="25">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="12" value="1.2" />
                                        <Key frame="21" value="-8.9" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                                        <Key frame="21" value="0" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="14" value="-5.01224" />
                                        <Key frame="25" value="4.8735" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="14" value="-7.02893" />
                                        <Key frame="25" value="-6.95974" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="14" value="-57.303" />
                                        <Key frame="23" value="-23.7372" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="14" value="-73.8315" />
                                        <Key frame="23" value="-94.6534" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="14" value="0.3168" />
                                        <Key frame="23" value="0.72" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="14" value="-3.42537" />
                                        <Key frame="25" value="7.07525" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="14" value="5.3638" />
                                        <Key frame="25" value="5.66523" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="14" value="-12.654" />
                                        <Key frame="25" value="-9.74028" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="14" value="14.6755" />
                                        <Key frame="25" value="-4.64829" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="14" value="52.6447" />
                                        <Key frame="23" value="45.9525" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="14" value="8.17153" />
                                        <Key frame="23" value="14.4939" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="14" value="-53.7042" />
                                        <Key frame="23" value="-70.0963" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="14" value="-2.98591" />
                                        <Key frame="25" value="4.8735" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="14" value="6.3306" />
                                        <Key frame="25" value="6.95974" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="12" value="62.4055" />
                                        <Key frame="21" value="23.8086" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="12" value="83.5826" />
                                        <Key frame="21" value="94.6534" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="12" value="0.024" />
                                        <Key frame="21" value="0.72" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="14" value="-4.66066" />
                                        <Key frame="25" value="7.07525" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="14" value="-5.97423" />
                                        <Key frame="25" value="-5.66523" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="14" value="-12.654" />
                                        <Key frame="25" value="-9.74028" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="14" value="14.8561" />
                                        <Key frame="25" value="-4.64829" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="12" value="32.6981" />
                                        <Key frame="21" value="27.9395" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="12" value="-4.13332" />
                                        <Key frame="21" value="-14.4939" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="12" value="45.4376" />
                                        <Key frame="21" value="70.1928" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Box name="PointAtSelfRightArm_01 (1)" id="48" localization="8" tooltip="ID : #01B 0007&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- Me&#x0A;- Myself&#x0A;- I&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : No&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Flex&#x0A;End stance : Center" x="437" y="653">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="25">
                                    <BehaviorLayer name="behavior_layer1">
                                      <BehaviorKeyframe name="keyframe1" index="1">
                                        <Diagram />
                                      </BehaviorKeyframe>
                                    </BehaviorLayer>
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="13" value="12.1267" />
                                        <Key frame="23" value="-6.85796" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="12" value="-9.58261" />
                                        <Key frame="22" value="-5.27591" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="12" value="-4.56796" />
                                        <Key frame="22" value="-4.2164" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="15" value="-53.3" />
                                        <Key frame="25" value="-27.6835" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="15" value="-70.4" />
                                        <Key frame="25" value="-73.392" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="15" value="0.19" />
                                        <Key frame="25" value="0.6624" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="12" value="-3.95273" />
                                        <Key frame="22" value="2.72705" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="12" value="6.68218" />
                                        <Key frame="22" value="4.83644" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="12" value="-11.6872" />
                                        <Key frame="22" value="-9.66569" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="12" value="24.6073" />
                                        <Key frame="22" value="12.4782" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="15" value="76.5" />
                                        <Key frame="25" value="86.5709" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="15" value="12.8" />
                                        <Key frame="25" value="11.1598" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="15" value="-45.7061" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.7632" ordinateParam="-15.8836" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.17547" ordinateParam="10.5891" />
                                        </Key>
                                        <Key frame="25" value="-21.7117" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-3.30702" ordinateParam="-5.02698" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="0" ordinateParam="0" />
                                        </Key>
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="12" value="-5.79845" />
                                        <Key frame="22" value="2.02391" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="12" value="3.43018" />
                                        <Key frame="22" value="-0.0854867" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="13" value="49.3" />
                                        <Key frame="23" value="88.5" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="13" value="61.346" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-3.21391" ordinateParam="20.6006" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="2.47225" ordinateParam="-15.8466" />
                                        </Key>
                                        <Key frame="23" value="21.5311" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="13" value="1" />
                                        <Key frame="23" value="0.45" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="12" value="1.93121" />
                                        <Key frame="22" value="10.9841" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="12" value="-0.173378" />
                                        <Key frame="22" value="2.37549" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="12" value="-11.6872" />
                                        <Key frame="22" value="-9.66569" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="12" value="15.1198" />
                                        <Key frame="22" value="-2.28279" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="13" value="55.9894" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-3.96019" ordinateParam="7.95114" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.0463" ordinateParam="-6.11625" />
                                        </Key>
                                        <Key frame="23" value="40.8721" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="13" value="-2.11181" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.33333" ordinateParam="-6.39629" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.33333" ordinateParam="4.92023" />
                                        </Key>
                                        <Key frame="23" value="9.31412" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="13" value="60.2913" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-4.24005" ordinateParam="7.72419" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="3.26158" ordinateParam="-5.94168" />
                                        </Key>
                                        <Key frame="23" value="48.338" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Link inputowner="25" indexofinput="2" outputowner="0" indexofoutput="3" />
                                <Link inputowner="0" indexofinput="4" outputowner="25" indexofoutput="6" />
                                <Link inputowner="25" indexofinput="3" outputowner="63" indexofoutput="4" />
                                <Link inputowner="25" indexofinput="4" outputowner="63" indexofoutput="4" />
                                <Link inputowner="63" indexofinput="2" outputowner="0" indexofoutput="2" />
                                <Link inputowner="63" indexofinput="3" outputowner="25" indexofoutput="6" />
                                <Link inputowner="25" indexofinput="3" outputowner="4" indexofoutput="4" />
                                <Link inputowner="4" indexofinput="2" outputowner="25" indexofoutput="5" />
                                <Link inputowner="48" indexofinput="2" outputowner="2" indexofoutput="4" />
                              </Diagram>
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                        </Timeline>
                      </Box>
                      <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                      <Link inputowner="129" indexofinput="2" outputowner="133" indexofoutput="4" />
                      <Link inputowner="0" indexofinput="4" outputowner="27" indexofoutput="4" />
                      <Link inputowner="27" indexofinput="3" outputowner="0" indexofoutput="3" />
                      <Link inputowner="27" indexofinput="2" outputowner="1" indexofoutput="5" />
                      <Link inputowner="3" indexofinput="3" outputowner="0" indexofoutput="3" />
                      <Link inputowner="3" indexofinput="2" outputowner="1" indexofoutput="6" />
                    </Diagram>
                  </BehaviorKeyframe>
                </BehaviorLayer>
              </Timeline>
            </Box>
            <Box name="onHelp" id="11" localization="8" tooltip="Help Box" x="647" y="255">
              <bitmap>media/images/box/help.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="input" type="1" type_size="1" nature="2" inner="0" tooltip="" id="2" />
              <Input name="stopAction" type="1" type_size="1" nature="1" inner="0" tooltip="" id="3" />
              <Output name="onStop" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
              <Timeline enable="0">
                <BehaviorLayer name="behavior_layer1">
                  <BehaviorKeyframe name="keyframe1" index="1">
                    <Diagram>
                      <Box name="Random " id="1" localization="8" tooltip="Random action selector" x="190" y="10">
                        <bitmap>media/images/box/box-python-script.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        pass
        animations = [self.action1,self.action2,self.action3]
        action = animations[int(random.randint(0, len(animations) - 1))]
        action()

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Output name="action1" type="1" type_size="1" nature="2" inner="0" tooltip="" id="5" />
                        <Output name="action2" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                        <Output name="action3" type="1" type_size="1" nature="2" inner="0" tooltip="" id="7" />
                      </Box>
                      <Box name="Help1" id="27" localization="8" tooltip="Help action box 1" x="468" y="233">
                        <bitmap>media/images/box/help.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="activate" type="1" type_size="1" nature="2" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="2" />
                        <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="3" />
                        <Output name="finish" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                        <Timeline enable="0">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram>
                                <Box name="repeater" id="25" localization="8" tooltip="Wait for both inputs to be stimulated before stimulating its output." x="376" y="312">
                                  <bitmap>media/images/box/wait.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[

class MyClass(GeneratedClass):

    def __init__(self):
        GeneratedClass.__init__(self, False)
        self.ok = False

    def onLoad(self):
        pass

    def onUnload(self):
        #puts code for box cleanup here
        pass

    def onStart(self, nInput):
        if nInput == 1:
            self.ok = False

        if nInput == 2 and self.ok:
            self.signalsReceived()

    def onInput_stop(self):
        self.onStart(1)
        self.finish()

    def onInput_repeat(self):
        self.onStart(2)

    def onInput_activate(self):
        self.ok = True]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                  <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="Stop continuative movement" id="2" />
                                  <Input name="repeat" type="1" type_size="1" nature="1" inner="0" tooltip="Start repeat" id="3" />
                                  <Input name="activate" type="1" type_size="1" nature="1" inner="0" tooltip="Start moving" id="4" />
                                  <Output name="signalsReceived" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when both inputs have been stimulated." id="5" />
                                  <Output name="finish" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                                </Box>
                                <Box name="GoToStance_Enumeration_LeanRight" id="30" localization="8" tooltip="ID : #01G 9993&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- Transition&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : LeanRight" x="376" y="485">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="26">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="11" value="0" />
                                        <Key frame="24" value="-8.61579" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                                        <Key frame="24" value="-2.90283" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="11" value="-5.2" />
                                        <Key frame="24" value="-0.524941" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="24" value="-12.9225" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="12" value="-82.7085" />
                                        <Key frame="26" value="-82.7085" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="12" value="-75.0571" />
                                        <Key frame="26" value="-74.8" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="12" value="0.09" />
                                        <Key frame="26" value="0.87" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="11" value="-12.4782" />
                                        <Key frame="24" value="5.09532" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="24" value="13.7966" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="11" value="-11.072" />
                                        <Key frame="24" value="-10.4567" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="11" value="23.992" />
                                        <Key frame="24" value="2.63916" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="12" value="46.6729" />
                                        <Key frame="26" value="88.6" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="12" value="-5.97423" />
                                        <Key frame="26" value="-5.97423" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="12" value="-85.3405" />
                                        <Key frame="26" value="-85.3405" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="11" value="-5.2" />
                                        <Key frame="24" value="-3.78175" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="24" value="-2.1997" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="10" value="86.7467" />
                                        <Key frame="23" value="86.7467" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="10" value="69.7006" />
                                        <Key frame="23" value="103.9" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="10" value="0.09" />
                                        <Key frame="23" value="0.87" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="11" value="-15.3835" />
                                        <Key frame="24" value="6.77007" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="24" value="5.00743" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="11" value="-11.072" />
                                        <Key frame="24" value="-10.4567" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="11" value="24.8758" />
                                        <Key frame="24" value="4.56796" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="10" value="44.9103" />
                                        <Key frame="23" value="88.6" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="10" value="-1.57965" />
                                        <Key frame="23" value="-1.57965" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="10" value="88.7731" />
                                        <Key frame="23" value="88.7731" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Box name="LeftArmSpreadAndBack_01" id="11" localization="8" tooltip="ID : #01G 0009&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- And&#x0A;- All&#x0A;- Everything&#x0A;- Nothing&#x0A;- None&#x0A;- Then&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : Center" x="375" y="85">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="34">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="10" value="-6.6" />
                                        <Key frame="19" value="1.2" />
                                        <Key frame="34" value="-10.1978" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                                        <Key frame="10" value="-13.6" />
                                        <Key frame="34" value="-1.40867" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="11" value="-5.01224" />
                                        <Key frame="31" value="4.48007" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="11" value="-7.02893" />
                                        <Key frame="31" value="-6.94104" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="10" value="-88.5" />
                                        <Key frame="19" value="-56.9" />
                                        <Key frame="34" value="-69.9594" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="10" value="-54.1" />
                                        <Key frame="19" value="-112" />
                                        <Key frame="34" value="-59.593" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="19" value="0.84" />
                                        <Key frame="34" value="0.2496" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="11" value="-3.42537" />
                                        <Key frame="31" value="7.12163" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="11" value="5.3638" />
                                        <Key frame="31" value="5.18802" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="11" value="-12.654" />
                                        <Key frame="31" value="-9.84147" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="11" value="14.6755" />
                                        <Key frame="31" value="-4.66066" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="19" value="69.9" />
                                        <Key frame="34" value="85.1647" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="34" value="9.75358" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="19" value="-39.2" />
                                        <Key frame="34" value="-0.00240423" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="11" value="-2.98591" />
                                        <Key frame="31" value="4.66066" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="11" value="6.3306" />
                                        <Key frame="31" value="7.38531" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="10" value="88.5" />
                                        <Key frame="19" value="88.5" />
                                        <Key frame="34" value="76.5561" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="10" value="54.1" />
                                        <Key frame="19" value="71" />
                                        <Key frame="34" value="55.3694" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="19" value="0.64" />
                                        <Key frame="34" value="0.17" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="11" value="-4.66066" />
                                        <Key frame="31" value="7.55628" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="11" value="-5.97423" />
                                        <Key frame="31" value="-5.62267" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="11" value="-12.654" />
                                        <Key frame="31" value="-9.84147" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="11" value="14.8561" />
                                        <Key frame="31" value="-4.30429" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="19" value="69.9" />
                                        <Key frame="34" value="85.7847" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="34" value="-16.0866" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="34" value="5.00743" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Link inputowner="25" indexofinput="2" outputowner="0" indexofoutput="3" />
                                <Link inputowner="0" indexofinput="4" outputowner="25" indexofoutput="6" />
                                <Link inputowner="30" indexofinput="2" outputowner="25" indexofoutput="5" />
                                <Link inputowner="25" indexofinput="3" outputowner="30" indexofoutput="4" />
                                <Link inputowner="25" indexofinput="3" outputowner="11" indexofoutput="4" />
                                <Link inputowner="25" indexofinput="4" outputowner="11" indexofoutput="4" />
                                <Link inputowner="11" indexofinput="2" outputowner="0" indexofoutput="2" />
                                <Link inputowner="11" indexofinput="3" outputowner="25" indexofoutput="6" />
                              </Diagram>
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                        </Timeline>
                      </Box>
                      <Box name="Help2" id="2" localization="8" tooltip="Help action box 2" x="470" y="334">
                        <bitmap>media/images/box/help.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="activate" type="1" type_size="1" nature="2" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="2" />
                        <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="3" />
                        <Output name="finish" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                        <Timeline enable="0">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram>
                                <Box name="repeater" id="25" localization="8" tooltip="Wait for both inputs to be stimulated before stimulating its output." x="377" y="295">
                                  <bitmap>media/images/box/wait.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[

class MyClass(GeneratedClass):

    def __init__(self):
        GeneratedClass.__init__(self, False)
        self.ok = False

    def onLoad(self):
        pass

    def onUnload(self):
        #puts code for box cleanup here
        pass

    def onStart(self, nInput):
        if nInput == 1:
            self.ok = False

        if nInput == 2 and self.ok:
            self.signalsReceived()

    def onInput_stop(self):
        self.onStart(1)
        self.finish()

    def onInput_repeat(self):
        self.onStart(2)

    def onInput_activate(self):
        self.ok = True]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                  <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="Stop continuative movement" id="2" />
                                  <Input name="repeat" type="1" type_size="1" nature="1" inner="0" tooltip="Start repeat" id="3" />
                                  <Input name="activate" type="1" type_size="1" nature="1" inner="0" tooltip="Start moving" id="4" />
                                  <Output name="signalsReceived" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when both inputs have been stimulated." id="5" />
                                  <Output name="finish" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                                </Box>
                                <Box name="DoubleLeftHandBump_LeanRight_01" id="50" localization="8" tooltip="ID : #01G 0005&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- 1,2&#x0A;- Everything&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : LeanRight" x="373" y="118">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="66">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="15" value="-14.153" />
                                        <Key frame="21" value="1.43506" />
                                        <Key frame="30" value="-14.153" />
                                        <Key frame="36" value="-2.98246" />
                                        <Key frame="44" value="-14.153" />
                                        <Key frame="56" value="-4.7" />
                                        <Key frame="66" value="-14.153" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="65" value="-0.793436" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="65" value="-13.6208" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="10" value="-56.8635" smooth="1" symmetrical="1">
                                          <Tangent side="left" interpType="bezier" abscissaParam="-3.287" ordinateParam="3.82525" />
                                          <Tangent side="right" interpType="bezier" abscissaParam="2.6296" ordinateParam="-3.0602" />
                                        </Key>
                                        <Key frame="18" value="-68.5" />
                                        <Key frame="26" value="-53" />
                                        <Key frame="34" value="-71.7" />
                                        <Key frame="41" value="-53" />
                                        <Key frame="48" value="-66.3" />
                                        <Key frame="56" value="-56.8635" />
                                        <Key frame="64" value="-56.8635" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="10" value="-52.3859" />
                                        <Key frame="34" value="-79.3" />
                                        <Key frame="41" value="-81.5" />
                                        <Key frame="56" value="-52.3859" />
                                        <Key frame="64" value="-52.3859" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="10" value="0.1956" />
                                        <Key frame="18" value="0.19" />
                                        <Key frame="26" value="0.55" />
                                        <Key frame="34" value="0.12" />
                                        <Key frame="41" value="0.55" />
                                        <Key frame="56" value="0.1956" />
                                        <Key frame="64" value="0.1956" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="65" value="9.75839" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="65" value="15.8229" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="65" value="-15.3786" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="65" value="3.16169" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="10" value="71.4" />
                                        <Key frame="34" value="71.4" />
                                        <Key frame="56" value="71.4" />
                                        <Key frame="64" value="79.188" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="10" value="-4.7" />
                                        <Key frame="26" value="5.3" />
                                        <Key frame="34" value="-4.7" />
                                        <Key frame="41" value="5.3" />
                                        <Key frame="56" value="-4.7" />
                                        <Key frame="64" value="3.24959" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="10" value="0.788627" />
                                        <Key frame="26" value="-51.8" />
                                        <Key frame="34" value="-51.8" />
                                        <Key frame="41" value="-63.5" />
                                        <Key frame="56" value="0.788627" />
                                        <Key frame="64" value="0.788627" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="65" value="-1.22808" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="65" value="-7.02893" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="10" value="59.5051" />
                                        <Key frame="24" value="59.5051" />
                                        <Key frame="46" value="59.5051" />
                                        <Key frame="66" value="59.5051" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="10" value="44.5587" />
                                        <Key frame="24" value="44.5587" />
                                        <Key frame="46" value="44.5587" />
                                        <Key frame="66" value="44.5587" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="10" value="0.2052" />
                                        <Key frame="24" value="0.2052" />
                                        <Key frame="46" value="0.2052" />
                                        <Key frame="66" value="0.2052" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="65" value="9.92936" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="65" value="10.3736" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="65" value="-15.3786" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="65" value="3.51807" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="10" value="71.4" />
                                        <Key frame="24" value="76.1166" />
                                        <Key frame="46" value="76.1166" />
                                        <Key frame="66" value="76.1166" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="10" value="4.7" />
                                        <Key frame="24" value="-2.99072" />
                                        <Key frame="46" value="-2.99072" />
                                        <Key frame="66" value="-2.99072" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="10" value="17.6638" />
                                        <Key frame="24" value="17.6638" />
                                        <Key frame="46" value="17.6638" />
                                        <Key frame="66" value="17.6638" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Box name="OpenBothHandsInFrontWithBump_01" id="64" localization="8" tooltip="ID : #01G 0019&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- One&#x0A;- Once&#x0A;- Twice&#x0A;- This&#x0A;- That&#x0A;- Everything&#x0A;- More&#x0A;- Then&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : Center" x="383" y="475">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="35">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="14" value="-10.4615" />
                                        <Key frame="23" value="3.6" />
                                        <Key frame="35" value="-9.14314" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                                        <Key frame="14" value="1.84332" />
                                        <Key frame="23" value="1.84332" />
                                        <Key frame="35" value="1.84332" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="13" value="-1.23289" />
                                        <Key frame="21" value="2.107" />
                                        <Key frame="33" value="0.788627" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="13" value="-5.18321" />
                                        <Key frame="21" value="-5.09532" />
                                        <Key frame="33" value="-5.2711" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="13" value="-82.44" />
                                        <Key frame="21" value="-56.5999" />
                                        <Key frame="33" value="-62.9281" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="13" value="-87.8062" />
                                        <Key frame="21" value="-78.2261" />
                                        <Key frame="33" value="-79.4565" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="13" value="0.348" />
                                        <Key frame="21" value="0.8568" />
                                        <Key frame="33" value="0.7036" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="13" value="18.3718" />
                                        <Key frame="21" value="11.4283" />
                                        <Key frame="33" value="14.944" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="13" value="4.48488" />
                                        <Key frame="21" value="4.74855" />
                                        <Key frame="33" value="4.66066" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="13" value="-9.22623" />
                                        <Key frame="21" value="-10.0173" />
                                        <Key frame="33" value="-10.0173" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="13" value="-4.92435" />
                                        <Key frame="21" value="-4.92435" />
                                        <Key frame="33" value="-4.92435" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="13" value="86.3073" />
                                        <Key frame="21" value="84.7252" />
                                        <Key frame="33" value="86.8346" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="13" value="0.261268" />
                                        <Key frame="21" value="-2.02391" />
                                        <Key frame="33" value="-1.32078" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="13" value="-44.7393" />
                                        <Key frame="21" value="-44.4756" />
                                        <Key frame="33" value="-43.9483" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="13" value="0.00240423" />
                                        <Key frame="21" value="3.78175" />
                                        <Key frame="33" value="2.11181" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="13" value="8.44001" />
                                        <Key frame="21" value="7.91266" />
                                        <Key frame="33" value="8.00056" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="15" value="82.1812" />
                                        <Key frame="22" value="51.1554" />
                                        <Key frame="34" value="62.054" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="15" value="80.6822" />
                                        <Key frame="22" value="90.2624" />
                                        <Key frame="34" value="88.7682" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="15" value="0.3488" />
                                        <Key frame="22" value="0.8544" />
                                        <Key frame="34" value="0.6968" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="13" value="17.6638" />
                                        <Key frame="21" value="9.75358" />
                                        <Key frame="33" value="13.445" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="13" value="-8.78677" />
                                        <Key frame="21" value="-7.73207" />
                                        <Key frame="33" value="-7.99575" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="13" value="-9.22623" />
                                        <Key frame="21" value="-10.0173" />
                                        <Key frame="33" value="-10.0173" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="13" value="-4.83163" />
                                        <Key frame="21" value="-4.83163" />
                                        <Key frame="33" value="-4.83163" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="15" value="86.9273" />
                                        <Key frame="22" value="86.9273" />
                                        <Key frame="34" value="88.5973" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="15" value="-5.89115" />
                                        <Key frame="22" value="-7.73688" />
                                        <Key frame="34" value="-6.15482" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="15" value="54.051" />
                                        <Key frame="22" value="64.6859" />
                                        <Key frame="34" value="63.1039" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Link inputowner="25" indexofinput="2" outputowner="0" indexofoutput="3" />
                                <Link inputowner="0" indexofinput="4" outputowner="25" indexofoutput="6" />
                                <Link inputowner="25" indexofinput="3" outputowner="64" indexofoutput="4" />
                                <Link inputowner="64" indexofinput="2" outputowner="25" indexofoutput="5" />
                                <Link inputowner="50" indexofinput="2" outputowner="0" indexofoutput="2" />
                                <Link inputowner="50" indexofinput="3" outputowner="25" indexofoutput="6" />
                                <Link inputowner="25" indexofinput="3" outputowner="50" indexofoutput="4" />
                                <Link inputowner="25" indexofinput="4" outputowner="50" indexofoutput="4" />
                              </Diagram>
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                        </Timeline>
                      </Box>
                      <Box name="Help3" id="3" localization="8" tooltip="Help action box 3" x="470" y="462">
                        <bitmap>media/images/box/help.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="activate" type="1" type_size="1" nature="2" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="2" />
                        <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="This input has been automatically generated&#x0A;by converting several boxes into a single box." id="3" />
                        <Output name="finish" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                        <Timeline enable="0">
                          <BehaviorLayer name="behavior_layer1">
                            <BehaviorKeyframe name="keyframe1" index="1">
                              <Diagram>
                                <Box name="repeater" id="25" localization="8" tooltip="Wait for both inputs to be stimulated before stimulating its output." x="377" y="295">
                                  <bitmap>media/images/box/wait.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[

class MyClass(GeneratedClass):

    def __init__(self):
        GeneratedClass.__init__(self, False)
        self.ok = False

    def onLoad(self):
        pass

    def onUnload(self):
        #puts code for box cleanup here
        pass

    def onStart(self, nInput):
        if nInput == 1:
            self.ok = False

        if nInput == 2 and self.ok:
            self.signalsReceived()

    def onInput_stop(self):
        self.onStart(1)
        self.finish()

    def onInput_repeat(self):
        self.onStart(2)

    def onInput_activate(self):
        self.ok = True]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                  <Input name="stop" type="1" type_size="1" nature="1" inner="0" tooltip="Stop continuative movement" id="2" />
                                  <Input name="repeat" type="1" type_size="1" nature="1" inner="0" tooltip="Start repeat" id="3" />
                                  <Input name="activate" type="1" type_size="1" nature="1" inner="0" tooltip="Start moving" id="4" />
                                  <Output name="signalsReceived" type="1" type_size="1" nature="2" inner="0" tooltip="Signal sent when both inputs have been stimulated." id="5" />
                                  <Output name="finish" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                                </Box>
                                <Box name="GoToStance_Enumeration_Center" id="29" localization="8" tooltip="ID : #01G 9991&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- Transition&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : Center" x="382" y="479">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="26">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                                        <Key frame="11" value="0" />
                                        <Key frame="24" value="-8.61579" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                                        <Key frame="24" value="-2.90283" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="11" value="-5.2" />
                                        <Key frame="24" value="3.3" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="24" value="-7.11683" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="10" value="-86.7467" />
                                        <Key frame="23" value="-86.7467" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="10" value="-69.7006" />
                                        <Key frame="23" value="-103.9" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="10" value="0.09" />
                                        <Key frame="23" value="0.87" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="11" value="-12.4782" />
                                        <Key frame="24" value="8.26423" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="24" value="5.3638" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="11" value="-11.072" />
                                        <Key frame="24" value="-9.48991" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="11" value="23.992" />
                                        <Key frame="24" value="-4.92435" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="10" value="44.9103" />
                                        <Key frame="23" value="88.6" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="10" value="1.57965" />
                                        <Key frame="23" value="1.57965" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="10" value="-88.7731" />
                                        <Key frame="23" value="-88.7731" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="11" value="-5.2" />
                                        <Key frame="24" value="3.3" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="24" value="6.77007" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="12" value="82.7085" />
                                        <Key frame="26" value="82.7085" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="12" value="75.0571" />
                                        <Key frame="26" value="74.8" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="12" value="0.09" />
                                        <Key frame="26" value="0.87" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="11" value="-15.3835" />
                                        <Key frame="24" value="7.46839" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="24" value="-5.2711" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="11" value="-11.072" />
                                        <Key frame="24" value="-9.48991" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="11" value="24.8758" />
                                        <Key frame="24" value="-5.00743" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="12" value="46.6729" />
                                        <Key frame="26" value="88.6" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="12" value="5.97423" />
                                        <Key frame="26" value="5.97423" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="12" value="85.3405" />
                                        <Key frame="26" value="85.3405" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Box name="SlowlyOfferBothHands_01" id="61" localization="8" tooltip="ID : #01E 0011&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- Supplicate&#x0A;- Please&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : LeanFront&#x0A;End stance : Center" x="377" y="127">
                                  <bitmap>media/images/box/movement/move.png</bitmap>
                                  <script language="4">
                                    <content>
                                      <![CDATA[]]>
                                    </content>
                                  </script>
                                  <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                  <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                  <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                  <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                  <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="43">
                                    <ActuatorList model="">
                                      <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                                        <Key frame="14" value="12.9225" />
                                        <Key frame="28" value="6.24271" />
                                        <Key frame="43" value="5.18321" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                                        <Key frame="14" value="-8.70368" />
                                        <Key frame="28" value="-12.483" />
                                        <Key frame="43" value="-5.2711" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="14" value="-23.909" />
                                        <Key frame="22" value="-45.6" />
                                        <Key frame="28" value="-66.3" />
                                        <Key frame="43" value="-20.657" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="22" value="-119.5" />
                                        <Key frame="43" value="-77.1" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="22" value="0.6724" />
                                        <Key frame="43" value="0.3136" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                                        <Key frame="14" value="-9.75839" />
                                        <Key frame="28" value="7.29261" />
                                        <Key frame="43" value="7.56109" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                                        <Key frame="14" value="7.3805" />
                                        <Key frame="28" value="14.0603" />
                                        <Key frame="43" value="2.81494" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                                        <Key frame="14" value="-13.0056" />
                                        <Key frame="28" value="-10.1051" />
                                        <Key frame="43" value="-10.193" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                                        <Key frame="14" value="-5.09532" />
                                        <Key frame="28" value="-5.09532" />
                                        <Key frame="43" value="-5.01224" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="22" value="57.7473" />
                                        <Key frame="43" value="80.7749" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="22" value="7.29742" />
                                        <Key frame="28" value="9.5" />
                                        <Key frame="43" value="4.39699" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="22" value="-77.6939" />
                                        <Key frame="43" value="-57.6" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                                        <Key frame="14" value="11.2477" />
                                        <Key frame="28" value="4.91954" />
                                        <Key frame="43" value="5.27591" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                                        <Key frame="14" value="4.39218" />
                                        <Key frame="28" value="1.57965" />
                                        <Key frame="43" value="9.49471" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="14" value="24.4315" />
                                        <Key frame="22" value="31.6" />
                                        <Key frame="28" value="55.2" />
                                        <Key frame="43" value="26.453" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="22" value="110.043" />
                                        <Key frame="43" value="77.1" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="22" value="0.6692" />
                                        <Key frame="43" value="0.504" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                                        <Key frame="14" value="-8.52309" />
                                        <Key frame="28" value="7.64898" />
                                        <Key frame="43" value="7.29261" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                                        <Key frame="14" value="-0.178186" />
                                        <Key frame="28" value="2.45857" />
                                        <Key frame="43" value="-9.40201" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RHipYawPitch" mute="0" unit="0">
                                        <Key frame="14" value="-13.0056" />
                                        <Key frame="28" value="-10.1051" />
                                        <Key frame="43" value="-10.193" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                                        <Key frame="14" value="-4.74855" />
                                        <Key frame="28" value="-4.74855" />
                                        <Key frame="43" value="-5.00743" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="22" value="50.1838" />
                                        <Key frame="43" value="75.4087" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="22" value="-0.788627" />
                                        <Key frame="43" value="-3.68905" />
                                      </ActuatorCurve>
                                      <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="22" value="88.861" />
                                        <Key frame="43" value="57.6" />
                                      </ActuatorCurve>
                                    </ActuatorList>
                                  </Timeline>
                                  <Resource name="Standing" type="Lock" timeout="1" />
                                  <Resource name="All motors" type="Lock" timeout="1" />
                                </Box>
                                <Link inputowner="25" indexofinput="2" outputowner="0" indexofoutput="3" />
                                <Link inputowner="0" indexofinput="4" outputowner="25" indexofoutput="6" />
                                <Link inputowner="25" indexofinput="3" outputowner="61" indexofoutput="4" />
                                <Link inputowner="25" indexofinput="4" outputowner="61" indexofoutput="4" />
                                <Link inputowner="61" indexofinput="2" outputowner="0" indexofoutput="2" />
                                <Link inputowner="61" indexofinput="3" outputowner="25" indexofoutput="6" />
                                <Link inputowner="25" indexofinput="3" outputowner="29" indexofoutput="4" />
                                <Link inputowner="29" indexofinput="2" outputowner="25" indexofoutput="5" />
                              </Diagram>
                            </BehaviorKeyframe>
                          </BehaviorLayer>
                        </Timeline>
                      </Box>
                      <Link inputowner="0" indexofinput="4" outputowner="27" indexofoutput="4" />
                      <Link inputowner="0" indexofinput="4" outputowner="2" indexofoutput="4" />
                      <Link inputowner="0" indexofinput="4" outputowner="3" indexofoutput="4" />
                      <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                      <Link inputowner="27" indexofinput="2" outputowner="1" indexofoutput="5" />
                      <Link inputowner="2" indexofinput="2" outputowner="1" indexofoutput="6" />
                      <Link inputowner="3" indexofinput="2" outputowner="1" indexofoutput="7" />
                      <Link inputowner="27" indexofinput="3" outputowner="0" indexofoutput="3" />
                      <Link inputowner="2" indexofinput="3" outputowner="0" indexofoutput="3" />
                      <Link inputowner="3" indexofinput="3" outputowner="0" indexofoutput="3" />
                    </Diagram>
                  </BehaviorKeyframe>
                </BehaviorLayer>
              </Timeline>
            </Box>
            <Box name="onGoodBye" id="12" localization="8" tooltip="Choice box" x="651" y="352">
              <bitmap>media/images/box/box-diagram.png</bitmap>
              <script language="4">
                <content>
                  <![CDATA[]]>
                </content>
              </script>
              <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
              <Input name="input" type="1" type_size="1" nature="2" inner="0" tooltip="" id="2" />
              <Input name="stopAction" type="1" type_size="1" nature="1" inner="0" tooltip="" id="3" />
              <Output name="onStop" type="1" type_size="1" nature="1" inner="0" tooltip="" id="4" />
              <Timeline enable="0">
                <BehaviorLayer name="behavior_layer1">
                  <BehaviorKeyframe name="keyframe1" index="1">
                    <Diagram>
                      <Box name="Random " id="1" localization="8" tooltip="Random action selector" x="210" y="46">
                        <bitmap>media/images/box/box-python-script.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        pass
        animations = [self.action1]
        action = animations[int(random.randint(0, len(animations) - 1))]
        action()

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        <Output name="action1" type="1" type_size="1" nature="2" inner="0" tooltip="" id="5" />
                      </Box>
                      <Box name="Goodbye" id="73" localization="8" tooltip="Goodbye action" x="472" y="72">
                        <bitmap>media/images/box/movement/move.png</bitmap>
                        <script language="4">
                          <content>
                            <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        #self.onStopped() #activate the output of the box
        pass

    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
                          </content>
                        </script>
                        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this Input." id="2" />
                        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this Input." id="3" />
                        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when Box behavior is finished." id="4" />
                        <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="138">
                          <ActuatorList model="nao">
                            <ActuatorCurve name="value" actuator="HeadYaw" mute="0" unit="0">
                              <Key frame="21" value="-4.3091" />
                              <Key frame="41" value="-2.81494" />
                              <Key frame="63" value="-1.84813" />
                              <Key frame="90" value="-1.84813" />
                              <Key frame="108" value="-2.02391" />
                              <Key frame="138" value="-2.11181" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="HeadPitch" mute="0" unit="0">
                              <Key frame="21" value="-18.3718" />
                              <Key frame="41" value="-0.79343" />
                              <Key frame="63" value="-21.0085" />
                              <Key frame="90" value="-17" />
                              <Key frame="108" value="-22.9421" />
                              <Key frame="138" value="-14.0651" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                              <Key frame="19" value="49.4806" />
                              <Key frame="39" value="21.0037" />
                              <Key frame="61" value="10.7204" />
                              <Key frame="88" value="54.7541" />
                              <Key frame="106" value="80.067" />
                              <Key frame="136" value="84.8131" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                              <Key frame="19" value="1.75543" />
                              <Key frame="39" value="1.40386" />
                              <Key frame="61" value="0.876513" />
                              <Key frame="88" value="52.3811" />
                              <Key frame="106" value="33.6601" />
                              <Key frame="136" value="3.86483" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                              <Key frame="19" value="-110.746" />
                              <Key frame="39" value="-45.9698" />
                              <Key frame="61" value="-50.2765" />
                              <Key frame="88" value="-101.517" />
                              <Key frame="106" value="-109.691" />
                              <Key frame="136" value="-65.4817" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                              <Key frame="19" value="-30.6718" />
                              <Key frame="39" value="-89.5017" />
                              <Key frame="61" value="-89.2077" />
                              <Key frame="88" value="-44.9982" />
                              <Key frame="106" value="-28.6503" />
                              <Key frame="136" value="-21.619" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                              <Key frame="39" value="-68.4701" />
                              <Key frame="61" value="-64.427" />
                              <Key frame="88" value="-88" />
                              <Key frame="106" value="-64.8665" />
                              <Key frame="136" value="-8.00055" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                              <Key frame="39" value="0.73166" />
                              <Key frame="61" value="0.702933" />
                              <Key frame="88" value="0.8" />
                              <Key frame="106" value="0.676387" />
                              <Key frame="136" value="0.109844" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                              <Key frame="17" value="57.923" />
                              <Key frame="37" value="23.3816" />
                              <Key frame="59" value="1.76024" />
                              <Key frame="86" value="63.3723" />
                              <Key frame="104" value="80.0718" />
                              <Key frame="134" value="88.0699" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                              <Key frame="17" value="-9.84628" />
                              <Key frame="37" value="-2.02391" />
                              <Key frame="59" value="-6.24272" />
                              <Key frame="86" value="-48.6944" />
                              <Key frame="104" value="-37.2685" />
                              <Key frame="134" value="-2.46337" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                              <Key frame="17" value="119.496" />
                              <Key frame="37" value="50.5353" />
                              <Key frame="59" value="38.8457" />
                              <Key frame="86" value="111.181" />
                              <Key frame="104" value="119.442" />
                              <Key frame="134" value="86.5709" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                              <Key frame="17" value="30.2372" />
                              <Key frame="37" value="89.3004" />
                              <Key frame="59" value="89.5017" />
                              <Key frame="86" value="41.0478" />
                              <Key frame="104" value="23.9968" />
                              <Key frame="134" value="25.0515" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                              <Key frame="37" value="57.4788" />
                              <Key frame="59" value="56.9514" />
                              <Key frame="86" value="80" />
                              <Key frame="104" value="56.8635" />
                              <Key frame="134" value="0.173379" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                              <Key frame="37" value="0.789478" />
                              <Key frame="59" value="0.758933" />
                              <Key frame="86" value="0.909091" />
                              <Key frame="104" value="0.730569" />
                              <Key frame="134" value="0.22548" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipYawPitch" mute="0" unit="0">
                              <Key frame="38" value="-15.5544" />
                              <Key frame="60" value="-16.7849" />
                              <Key frame="87" value="-18.9822" />
                              <Key frame="105" value="-18.9822" />
                              <Key frame="135" value="-17.9275" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipRoll" mute="0" unit="0">
                              <Key frame="38" value="6.59428" />
                              <Key frame="60" value="1.58446" />
                              <Key frame="87" value="-0.349163" />
                              <Key frame="105" value="-0.173379" />
                              <Key frame="135" value="5.45169" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LHipPitch" mute="0" unit="0">
                              <Key frame="38" value="20.5691" />
                              <Key frame="60" value="5.80326" />
                              <Key frame="87" value="-1.84332" />
                              <Key frame="105" value="-1.84332" />
                              <Key frame="135" value="12.2194" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LKneePitch" mute="0" unit="0">
                              <Key frame="38" value="-5.29104" />
                              <Key frame="60" value="-5.29104" />
                              <Key frame="87" value="-5.29104" />
                              <Key frame="105" value="-5.29104" />
                              <Key frame="135" value="-5.10012" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LAnklePitch" mute="0" unit="0">
                              <Key frame="38" value="3.33748" />
                              <Key frame="60" value="9.40201" />
                              <Key frame="87" value="14.4997" />
                              <Key frame="105" value="14.4118" />
                              <Key frame="135" value="6.76526" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="LAnkleRoll" mute="0" unit="0">
                              <Key frame="38" value="-5.09532" />
                              <Key frame="60" value="-2.28278" />
                              <Key frame="87" value="-0.876513" />
                              <Key frame="105" value="-0.876513" />
                              <Key frame="135" value="-4.91953" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipRoll" mute="0" unit="0">
                              <Key frame="38" value="-6.15002" />
                              <Key frame="60" value="-3.1617" />
                              <Key frame="87" value="0.353971" />
                              <Key frame="105" value="0.353971" />
                              <Key frame="135" value="-3.33748" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RHipPitch" mute="0" unit="0">
                              <Key frame="38" value="21.2674" />
                              <Key frame="60" value="5.53477" />
                              <Key frame="87" value="-1.93602" />
                              <Key frame="105" value="-2.02391" />
                              <Key frame="135" value="12.4782" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RKneePitch" mute="0" unit="0">
                              <Key frame="38" value="-5.71056" />
                              <Key frame="60" value="-5.88634" />
                              <Key frame="87" value="-5.90622" />
                              <Key frame="105" value="-5.88634" />
                              <Key frame="135" value="-4.39218" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RAnklePitch" mute="0" unit="0">
                              <Key frame="38" value="2.72705" />
                              <Key frame="60" value="9.40682" />
                              <Key frame="87" value="14.4166" />
                              <Key frame="105" value="14.5924" />
                              <Key frame="135" value="6.15482" />
                            </ActuatorCurve>
                            <ActuatorCurve name="value" actuator="RAnkleRoll" mute="0" unit="0">
                              <Key frame="38" value="4.13332" />
                              <Key frame="60" value="3.07861" />
                              <Key frame="87" value="0.617646" />
                              <Key frame="105" value="0.705538" />
                              <Key frame="135" value="2.81494" />
                            </ActuatorCurve>
                          </ActuatorList>
                        </Timeline>
                        <Resource name="Standing" type="Lock" timeout="1" />
                        <Resource name="All motors" type="Lock" timeout="1" />
                      </Box>
                      <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                      <Link inputowner="73" indexofinput="2" outputowner="1" indexofoutput="5" />
                      <Link inputowner="0" indexofinput="4" outputowner="73" indexofoutput="4" />
                    </Diagram>
                  </BehaviorKeyframe>
                </BehaviorLayer>
              </Timeline>
            </Box>
            <Link inputowner="10" indexofinput="2" outputowner="2" indexofoutput="5" />
            <Link inputowner="2" indexofinput="2" outputowner="1" indexofoutput="4" />
            <Link inputowner="10" indexofinput="4" outputowner="1" indexofoutput="4" />
            <Link inputowner="7" indexofinput="2" outputowner="10" indexofoutput="6" />
            <Link inputowner="14" indexofinput="2" outputowner="20" indexofoutput="4" />
            <Link inputowner="14" indexofinput="2" outputowner="22" indexofoutput="4" />
            <Link inputowner="7" indexofinput="3" outputowner="9" indexofoutput="4" />
            <Link inputowner="9" indexofinput="2" outputowner="10" indexofoutput="7" />
            <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
            <Link inputowner="0" indexofinput="4" outputowner="26" indexofoutput="4" />
            <Link inputowner="20" indexofinput="2" outputowner="7" indexofoutput="8" />
            <Link inputowner="22" indexofinput="2" outputowner="7" indexofoutput="13" />
            <Link inputowner="20" indexofinput="2" outputowner="7" indexofoutput="16" />
            <Link inputowner="4" indexofinput="2" outputowner="7" indexofoutput="14" />
            <Link inputowner="4" indexofinput="3" outputowner="7" indexofoutput="17" />
            <Link inputowner="14" indexofinput="2" outputowner="4" indexofoutput="4" />
            <Link inputowner="14" indexofinput="2" outputowner="8" indexofoutput="4" />
            <Link inputowner="8" indexofinput="2" outputowner="7" indexofoutput="4" />
            <Link inputowner="3" indexofinput="2" outputowner="7" indexofoutput="5" />
            <Link inputowner="14" indexofinput="2" outputowner="3" indexofoutput="4" />
            <Link inputowner="11" indexofinput="2" outputowner="7" indexofoutput="6" />
            <Link inputowner="11" indexofinput="3" outputowner="7" indexofoutput="17" />
            <Link inputowner="14" indexofinput="2" outputowner="11" indexofoutput="4" />
            <Link inputowner="12" indexofinput="2" outputowner="7" indexofoutput="7" />
            <Link inputowner="26" indexofinput="2" outputowner="12" indexofoutput="4" />
            <Link inputowner="3" indexofinput="3" outputowner="7" indexofoutput="17" />
          </Diagram>
        </BehaviorKeyframe>
      </BehaviorLayer>
    </Timeline>
  </Box>
</ChoregrapheProject>
